/* world.c generated by valac 0.46.0.4-d3026, the Vala compiler
 * generated from world.vala, do not modify */

/*
 * Copyright (C) 2013  Paolo Borelli <pborelli@gnome.org>
 *
 * This program is free software; you can redistribute it and/or
 * modify it under the terms of the GNU General Public License
 * as published by the Free Software Foundation; either version 2
 * of the License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.
 */

#include <glib-object.h>
#include <gio/gio.h>
#include <stdlib.h>
#include <string.h>
#include <glib.h>
#include <libgweather/gweather.h>
#include <glib/gi18n-lib.h>
#include <gtk/gtk.h>
#include <gdk/gdk.h>

#define CLOCKS_WORLD_TYPE_SHELL_WORLD_CLOCKS (clocks_world_shell_world_clocks_get_type ())
#define CLOCKS_WORLD_SHELL_WORLD_CLOCKS(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_WORLD_TYPE_SHELL_WORLD_CLOCKS, ClocksWorldShellWorldClocks))
#define CLOCKS_WORLD_SHELL_WORLD_CLOCKS_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CLOCKS_WORLD_TYPE_SHELL_WORLD_CLOCKS, ClocksWorldShellWorldClocksClass))
#define CLOCKS_WORLD_IS_SHELL_WORLD_CLOCKS(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_WORLD_TYPE_SHELL_WORLD_CLOCKS))
#define CLOCKS_WORLD_IS_SHELL_WORLD_CLOCKS_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CLOCKS_WORLD_TYPE_SHELL_WORLD_CLOCKS))
#define CLOCKS_WORLD_SHELL_WORLD_CLOCKS_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CLOCKS_WORLD_TYPE_SHELL_WORLD_CLOCKS, ClocksWorldShellWorldClocksClass))

typedef struct _ClocksWorldShellWorldClocks ClocksWorldShellWorldClocks;
typedef struct _ClocksWorldShellWorldClocksClass ClocksWorldShellWorldClocksClass;
typedef struct _ClocksWorldShellWorldClocksPrivate ClocksWorldShellWorldClocksPrivate;
enum  {
	CLOCKS_WORLD_SHELL_WORLD_CLOCKS_0_PROPERTY,
	CLOCKS_WORLD_SHELL_WORLD_CLOCKS_NUM_PROPERTIES
};
static GParamSpec* clocks_world_shell_world_clocks_properties[CLOCKS_WORLD_SHELL_WORLD_CLOCKS_NUM_PROPERTIES];
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_variant_type_free0(var) ((var == NULL) ? NULL : (var = (g_variant_type_free (var), NULL)))
#define _g_variant_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
#define _g_variant_builder_unref0(var) ((var == NULL) ? NULL : (var = (g_variant_builder_unref (var), NULL)))

#define CLOCKS_TYPE_CONTENT_ITEM (clocks_content_item_get_type ())
#define CLOCKS_CONTENT_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_TYPE_CONTENT_ITEM, ClocksContentItem))
#define CLOCKS_IS_CONTENT_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_TYPE_CONTENT_ITEM))
#define CLOCKS_CONTENT_ITEM_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), CLOCKS_TYPE_CONTENT_ITEM, ClocksContentItemIface))

typedef struct _ClocksContentItem ClocksContentItem;
typedef struct _ClocksContentItemIface ClocksContentItemIface;

#define CLOCKS_WORLD_TYPE_ITEM (clocks_world_item_get_type ())
#define CLOCKS_WORLD_ITEM(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItem))
#define CLOCKS_WORLD_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItemClass))
#define CLOCKS_WORLD_IS_ITEM(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_WORLD_TYPE_ITEM))
#define CLOCKS_WORLD_IS_ITEM_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CLOCKS_WORLD_TYPE_ITEM))
#define CLOCKS_WORLD_ITEM_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItemClass))

typedef struct _ClocksWorldItem ClocksWorldItem;
typedef struct _ClocksWorldItemClass ClocksWorldItemClass;
typedef struct _ClocksWorldItemPrivate ClocksWorldItemPrivate;
enum  {
	CLOCKS_WORLD_ITEM_0_PROPERTY,
	CLOCKS_WORLD_ITEM_LOCATION_PROPERTY,
	CLOCKS_WORLD_ITEM_AUTOMATIC_PROPERTY,
	CLOCKS_WORLD_ITEM_SELECTABLE_PROPERTY,
	CLOCKS_WORLD_ITEM_SELECTED_PROPERTY,
	CLOCKS_WORLD_ITEM_NAME_PROPERTY,
	CLOCKS_WORLD_ITEM_CITY_NAME_PROPERTY,
	CLOCKS_WORLD_ITEM_STATE_NAME_PROPERTY,
	CLOCKS_WORLD_ITEM_COUNTRY_NAME_PROPERTY,
	CLOCKS_WORLD_ITEM_IS_DAYTIME_PROPERTY,
	CLOCKS_WORLD_ITEM_SUNRISE_LABEL_PROPERTY,
	CLOCKS_WORLD_ITEM_SUNSET_LABEL_PROPERTY,
	CLOCKS_WORLD_ITEM_TIME_LABEL_PROPERTY,
	CLOCKS_WORLD_ITEM_DAY_LABEL_PROPERTY,
	CLOCKS_WORLD_ITEM_NUM_PROPERTIES
};
static GParamSpec* clocks_world_item_properties[CLOCKS_WORLD_ITEM_NUM_PROPERTIES];
#define _gweather_location_unref0(var) ((var == NULL) ? NULL : (var = (gweather_location_unref (var), NULL)))
#define _g_time_zone_unref0(var) ((var == NULL) ? NULL : (var = (g_time_zone_unref (var), NULL)))
#define _g_date_time_unref0(var) ((var == NULL) ? NULL : (var = (g_date_time_unref (var), NULL)))
#define _gweather_timezone_unref0(var) ((var == NULL) ? NULL : (var = (gweather_timezone_unref (var), NULL)))
#define _g_variant_iter_free0(var) ((var == NULL) ? NULL : (var = (g_variant_iter_free (var), NULL)))

#define CLOCKS_UTILS_TYPE_WALL_CLOCK (clocks_utils_wall_clock_get_type ())
#define CLOCKS_UTILS_WALL_CLOCK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_UTILS_TYPE_WALL_CLOCK, ClocksUtilsWallClock))
#define CLOCKS_UTILS_WALL_CLOCK_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CLOCKS_UTILS_TYPE_WALL_CLOCK, ClocksUtilsWallClockClass))
#define CLOCKS_UTILS_IS_WALL_CLOCK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_UTILS_TYPE_WALL_CLOCK))
#define CLOCKS_UTILS_IS_WALL_CLOCK_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CLOCKS_UTILS_TYPE_WALL_CLOCK))
#define CLOCKS_UTILS_WALL_CLOCK_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CLOCKS_UTILS_TYPE_WALL_CLOCK, ClocksUtilsWallClockClass))

typedef struct _ClocksUtilsWallClock ClocksUtilsWallClock;
typedef struct _ClocksUtilsWallClockClass ClocksUtilsWallClockClass;
enum  {
	CLOCKS_WORLD_ITEM_TICK_SIGNAL,
	CLOCKS_WORLD_ITEM_NUM_SIGNALS
};
static guint clocks_world_item_signals[CLOCKS_WORLD_ITEM_NUM_SIGNALS] = {0};

#define CLOCKS_WORLD_TYPE_TILE (clocks_world_tile_get_type ())
#define CLOCKS_WORLD_TILE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_WORLD_TYPE_TILE, ClocksWorldTile))
#define CLOCKS_WORLD_TILE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CLOCKS_WORLD_TYPE_TILE, ClocksWorldTileClass))
#define CLOCKS_WORLD_IS_TILE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_WORLD_TYPE_TILE))
#define CLOCKS_WORLD_IS_TILE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CLOCKS_WORLD_TYPE_TILE))
#define CLOCKS_WORLD_TILE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CLOCKS_WORLD_TYPE_TILE, ClocksWorldTileClass))

typedef struct _ClocksWorldTile ClocksWorldTile;
typedef struct _ClocksWorldTileClass ClocksWorldTileClass;
typedef struct _ClocksWorldTilePrivate ClocksWorldTilePrivate;
enum  {
	CLOCKS_WORLD_TILE_0_PROPERTY,
	CLOCKS_WORLD_TILE_LOCATION_PROPERTY,
	CLOCKS_WORLD_TILE_NUM_PROPERTIES
};
static GParamSpec* clocks_world_tile_properties[CLOCKS_WORLD_TILE_NUM_PROPERTIES];

#define CLOCKS_WORLD_TYPE_LOCATION_DIALOG (clocks_world_location_dialog_get_type ())
#define CLOCKS_WORLD_LOCATION_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_WORLD_TYPE_LOCATION_DIALOG, ClocksWorldLocationDialog))
#define CLOCKS_WORLD_LOCATION_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CLOCKS_WORLD_TYPE_LOCATION_DIALOG, ClocksWorldLocationDialogClass))
#define CLOCKS_WORLD_IS_LOCATION_DIALOG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_WORLD_TYPE_LOCATION_DIALOG))
#define CLOCKS_WORLD_IS_LOCATION_DIALOG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CLOCKS_WORLD_TYPE_LOCATION_DIALOG))
#define CLOCKS_WORLD_LOCATION_DIALOG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CLOCKS_WORLD_TYPE_LOCATION_DIALOG, ClocksWorldLocationDialogClass))

typedef struct _ClocksWorldLocationDialog ClocksWorldLocationDialog;
typedef struct _ClocksWorldLocationDialogClass ClocksWorldLocationDialogClass;
typedef struct _ClocksWorldLocationDialogPrivate ClocksWorldLocationDialogPrivate;

#define CLOCKS_WORLD_TYPE_FACE (clocks_world_face_get_type ())
#define CLOCKS_WORLD_FACE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_WORLD_TYPE_FACE, ClocksWorldFace))
#define CLOCKS_WORLD_FACE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CLOCKS_WORLD_TYPE_FACE, ClocksWorldFaceClass))
#define CLOCKS_WORLD_IS_FACE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_WORLD_TYPE_FACE))
#define CLOCKS_WORLD_IS_FACE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CLOCKS_WORLD_TYPE_FACE))
#define CLOCKS_WORLD_FACE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CLOCKS_WORLD_TYPE_FACE, ClocksWorldFaceClass))

typedef struct _ClocksWorldFace ClocksWorldFace;
typedef struct _ClocksWorldFaceClass ClocksWorldFaceClass;
enum  {
	CLOCKS_WORLD_LOCATION_DIALOG_0_PROPERTY,
	CLOCKS_WORLD_LOCATION_DIALOG_NUM_PROPERTIES
};
static GParamSpec* clocks_world_location_dialog_properties[CLOCKS_WORLD_LOCATION_DIALOG_NUM_PROPERTIES];

#define CLOCKS_TYPE_CLOCK (clocks_clock_get_type ())
#define CLOCKS_CLOCK(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_TYPE_CLOCK, ClocksClock))
#define CLOCKS_IS_CLOCK(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_TYPE_CLOCK))
#define CLOCKS_CLOCK_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), CLOCKS_TYPE_CLOCK, ClocksClockIface))

typedef struct _ClocksClock ClocksClock;
typedef struct _ClocksClockIface ClocksClockIface;

#define CLOCKS_TYPE_HEADER_BAR (clocks_header_bar_get_type ())
#define CLOCKS_HEADER_BAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_TYPE_HEADER_BAR, ClocksHeaderBar))
#define CLOCKS_HEADER_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CLOCKS_TYPE_HEADER_BAR, ClocksHeaderBarClass))
#define CLOCKS_IS_HEADER_BAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_TYPE_HEADER_BAR))
#define CLOCKS_IS_HEADER_BAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CLOCKS_TYPE_HEADER_BAR))
#define CLOCKS_HEADER_BAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CLOCKS_TYPE_HEADER_BAR, ClocksHeaderBarClass))

typedef struct _ClocksHeaderBar ClocksHeaderBar;
typedef struct _ClocksHeaderBarClass ClocksHeaderBarClass;
typedef enum  {
	CLOCKS_PANEL_ID_WORLD,
	CLOCKS_PANEL_ID_ALARM,
	CLOCKS_PANEL_ID_STOPWATCH,
	CLOCKS_PANEL_ID_TIMER
} ClocksPanelId;

#define CLOCKS_TYPE_PANEL_ID (clocks_panel_id_get_type ())
typedef struct _ClocksWorldFacePrivate ClocksWorldFacePrivate;

#define CLOCKS_TYPE_CONTENT_STORE (clocks_content_store_get_type ())
#define CLOCKS_CONTENT_STORE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_TYPE_CONTENT_STORE, ClocksContentStore))
#define CLOCKS_CONTENT_STORE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CLOCKS_TYPE_CONTENT_STORE, ClocksContentStoreClass))
#define CLOCKS_IS_CONTENT_STORE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_TYPE_CONTENT_STORE))
#define CLOCKS_IS_CONTENT_STORE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CLOCKS_TYPE_CONTENT_STORE))
#define CLOCKS_CONTENT_STORE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CLOCKS_TYPE_CONTENT_STORE, ClocksContentStoreClass))

typedef struct _ClocksContentStore ClocksContentStore;
typedef struct _ClocksContentStoreClass ClocksContentStoreClass;

#define CLOCKS_TYPE_CONTENT_VIEW (clocks_content_view_get_type ())
#define CLOCKS_CONTENT_VIEW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_TYPE_CONTENT_VIEW, ClocksContentView))
#define CLOCKS_CONTENT_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CLOCKS_TYPE_CONTENT_VIEW, ClocksContentViewClass))
#define CLOCKS_IS_CONTENT_VIEW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_TYPE_CONTENT_VIEW))
#define CLOCKS_IS_CONTENT_VIEW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CLOCKS_TYPE_CONTENT_VIEW))
#define CLOCKS_CONTENT_VIEW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CLOCKS_TYPE_CONTENT_VIEW, ClocksContentViewClass))

typedef struct _ClocksContentView ClocksContentView;
typedef struct _ClocksContentViewClass ClocksContentViewClass;
enum  {
	CLOCKS_WORLD_FACE_0_PROPERTY,
	CLOCKS_WORLD_FACE_LABEL_PROPERTY,
	CLOCKS_WORLD_FACE_ICON_NAME_PROPERTY,
	CLOCKS_WORLD_FACE_HEADER_BAR_PROPERTY,
	CLOCKS_WORLD_FACE_PANEL_ID_PROPERTY,
	CLOCKS_WORLD_FACE_NUM_PROPERTIES
};
static GParamSpec* clocks_world_face_properties[CLOCKS_WORLD_FACE_NUM_PROPERTIES];
typedef GtkWidget* (*ClocksContentViewContentViewCreateWidgetFunc) (ClocksContentItem* item, gpointer user_data);
typedef void (*ClocksContentStoreForeachFunc) (ClocksContentItem* item, gpointer user_data);
typedef enum  {
	CLOCKS_HEADER_BAR_MODE_NORMAL,
	CLOCKS_HEADER_BAR_MODE_SELECTION,
	CLOCKS_HEADER_BAR_MODE_STANDALONE
} ClocksHeaderBarMode;

#define CLOCKS_HEADER_BAR_TYPE_MODE (clocks_header_bar_mode_get_type ())
typedef ClocksContentItem* (*ClocksContentStoreDeserializeItemFunc) (GVariant* v, gpointer user_data);

#define CLOCKS_GEO_TYPE_INFO (clocks_geo_info_get_type ())
#define CLOCKS_GEO_INFO(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), CLOCKS_GEO_TYPE_INFO, ClocksGeoInfo))
#define CLOCKS_GEO_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), CLOCKS_GEO_TYPE_INFO, ClocksGeoInfoClass))
#define CLOCKS_GEO_IS_INFO(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), CLOCKS_GEO_TYPE_INFO))
#define CLOCKS_GEO_IS_INFO_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), CLOCKS_GEO_TYPE_INFO))
#define CLOCKS_GEO_INFO_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), CLOCKS_GEO_TYPE_INFO, ClocksGeoInfoClass))

typedef struct _ClocksGeoInfo ClocksGeoInfo;
typedef struct _ClocksGeoInfoClass ClocksGeoInfoClass;
typedef struct _Block9Data Block9Data;
typedef gboolean (*ClocksContentStoreFindFunc) (ClocksContentItem* item, gpointer user_data);
typedef struct _ClocksWorldFaceUseGeolocationData ClocksWorldFaceUseGeolocationData;

struct _ClocksWorldShellWorldClocks {
	GObject parent_instance;
	ClocksWorldShellWorldClocksPrivate * priv;
};

struct _ClocksWorldShellWorldClocksClass {
	GObjectClass parent_class;
};

struct _ClocksWorldShellWorldClocksPrivate {
	GDBusConnection* connection;
	gchar* object_path;
	GSettings* settings;
};

struct _ClocksContentItemIface {
	GTypeInterface parent_iface;
	void (*serialize) (ClocksContentItem* self, GVariantBuilder* builder);
	const gchar* (*get_name) (ClocksContentItem* self);
	void (*set_name) (ClocksContentItem* self, const gchar* value);
	gboolean (*get_selectable) (ClocksContentItem* self);
	void (*set_selectable) (ClocksContentItem* self, gboolean value);
	gboolean (*get_selected) (ClocksContentItem* self);
	void (*set_selected) (ClocksContentItem* self, gboolean value);
};

struct _ClocksWorldItem {
	GObject parent_instance;
	ClocksWorldItemPrivate * priv;
};

struct _ClocksWorldItemClass {
	GObjectClass parent_class;
	void (*tick) (ClocksWorldItem* self);
};

struct _ClocksWorldItemPrivate {
	GWeatherLocation* _location;
	gboolean _automatic;
	gboolean _selectable;
	gboolean _selected;
	gchar* _name;
	GTimeZone* time_zone;
	GDateTime* local_time;
	GDateTime* date_time;
	GWeatherInfo* weather_info;
};

struct _ClocksWorldTile {
	GtkBox parent_instance;
	ClocksWorldTilePrivate * priv;
};

struct _ClocksWorldTileClass {
	GtkBoxClass parent_class;
};

struct _ClocksWorldTilePrivate {
	ClocksWorldItem* _location;
	GtkLabel* time_label;
	GtkLabel* name_label;
	GtkLabel* delta_label;
};

struct _ClocksWorldLocationDialog {
	GtkDialog parent_instance;
	ClocksWorldLocationDialogPrivate * priv;
};

struct _ClocksWorldLocationDialogClass {
	GtkDialogClass parent_class;
};

struct _ClocksWorldLocationDialogPrivate {
	GWeatherLocationEntry* location_entry;
	ClocksWorldFace* world;
};

struct _ClocksClockIface {
	GTypeInterface parent_iface;
	void (*activate_new) (ClocksClock* self);
	void (*activate_select_all) (ClocksClock* self);
	void (*activate_select_none) (ClocksClock* self);
	gboolean (*escape_pressed) (ClocksClock* self);
	void (*back) (ClocksClock* self);
	void (*update_header_bar) (ClocksClock* self);
	const gchar* (*get_label) (ClocksClock* self);
	void (*set_label) (ClocksClock* self, const gchar* value);
	const gchar* (*get_icon_name) (ClocksClock* self);
	void (*set_icon_name) (ClocksClock* self, const gchar* value);
	ClocksHeaderBar* (*get_header_bar) (ClocksClock* self);
	void (*set_header_bar) (ClocksClock* self, ClocksHeaderBar* value);
	ClocksPanelId (*get_panel_id) (ClocksClock* self);
	void (*set_panel_id) (ClocksClock* self, ClocksPanelId value);
};

struct _ClocksWorldFace {
	GtkStack parent_instance;
	ClocksWorldFacePrivate * priv;
};

struct _ClocksWorldFaceClass {
	GtkStackClass parent_class;
};

struct _ClocksWorldFacePrivate {
	gchar* _label;
	gchar* _icon_name;
	ClocksHeaderBar* _header_bar;
	ClocksPanelId _panel_id;
	ClocksContentStore* locations;
	GSettings* settings;
	GtkButton* new_button;
	GtkButton* back_button;
	ClocksWorldItem* standalone_location;
	GtkWidget* empty_view;
	ClocksContentView* content_view;
	GtkWidget* standalone;
	GtkLabel* standalone_time_label;
	GtkLabel* standalone_day_label;
	GtkLabel* standalone_sunrise_label;
	GtkLabel* standalone_sunset_label;
};

struct _Block9Data {
	int _ref_count_;
	ClocksWorldFace* self;
	ClocksGeoInfo* geo_info;
	gpointer _async_data_;
};

struct _ClocksWorldFaceUseGeolocationData {
	int _state_;
	GObject* _source_object_;
	GAsyncResult* _res_;
	GTask* _async_result;
	ClocksWorldFace* self;
	Block9Data* _data9_;
	ClocksGeoInfo* _tmp0_;
};

static gint ClocksWorldShellWorldClocks_private_offset;
static gpointer clocks_world_shell_world_clocks_parent_class = NULL;
static gint ClocksWorldItem_private_offset;
static gpointer clocks_world_item_parent_class = NULL;
static ClocksContentItemIface * clocks_world_item_clocks_content_item_parent_iface = NULL;
static gint ClocksWorldTile_private_offset;
static gpointer clocks_world_tile_parent_class = NULL;
static gint ClocksWorldLocationDialog_private_offset;
static gpointer clocks_world_location_dialog_parent_class = NULL;
static gint ClocksWorldFace_private_offset;
static gpointer clocks_world_face_parent_class = NULL;
static ClocksClockIface * clocks_world_face_clocks_clock_parent_iface = NULL;

GType clocks_world_shell_world_clocks_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ClocksWorldShellWorldClocks, g_object_unref)
guint clocks_world_shell_world_clocks_register_object (void* object,
                                                       GDBusConnection* connection,
                                                       const gchar* path,
                                                       GError** error);
ClocksWorldShellWorldClocks* clocks_world_shell_world_clocks_new (GDBusConnection* connection,
                                                                  const gchar* object_path);
ClocksWorldShellWorldClocks* clocks_world_shell_world_clocks_construct (GType object_type,
                                                                        GDBusConnection* connection,
                                                                        const gchar* object_path);
static void __lambda8_ (ClocksWorldShellWorldClocks* self);
GVariant** clocks_world_shell_world_clocks_get_locations (ClocksWorldShellWorldClocks* self,
                                                          gint* result_length1);
static GVariant* _variant_new4 (GVariant** value,
                         gint value_length1);
static void ___lambda8__g_settings_changed (GSettings* _sender,
                                     const gchar* key,
                                     gpointer self);
static void _vala_array_add5 (GVariant** * array,
                       int* length,
                       int* size,
                       GVariant* value);
static void clocks_world_shell_world_clocks_finalize (GObject * obj);
static void _vala_clocks_world_shell_world_clocks_get_property (GObject * object,
                                                         guint property_id,
                                                         GValue * value,
                                                         GParamSpec * pspec);
static void clocks_world_shell_world_clocks_dbus_interface_method_call (GDBusConnection* connection,
                                                                 const gchar* sender,
                                                                 const gchar* object_path,
                                                                 const gchar* interface_name,
                                                                 const gchar* method_name,
                                                                 GVariant* parameters,
                                                                 GDBusMethodInvocation* invocation,
                                                                 gpointer user_data);
static GVariant* clocks_world_shell_world_clocks_dbus_interface_get_property (GDBusConnection* connection,
                                                                       const gchar* sender,
                                                                       const gchar* object_path,
                                                                       const gchar* interface_name,
                                                                       const gchar* property_name,
                                                                       GError** error,
                                                                       gpointer user_data);
static GVariant* _dbus_clocks_world_shell_world_clocks_get_locations (ClocksWorldShellWorldClocks* self);
static gboolean clocks_world_shell_world_clocks_dbus_interface_set_property (GDBusConnection* connection,
                                                                      const gchar* sender,
                                                                      const gchar* object_path,
                                                                      const gchar* interface_name,
                                                                      const gchar* property_name,
                                                                      GVariant* value,
                                                                      GError** error,
                                                                      gpointer user_data);
static void _clocks_world_shell_world_clocks_unregister_object (gpointer user_data);
GType clocks_content_item_get_type (void) G_GNUC_CONST;
GType clocks_world_item_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ClocksWorldItem, g_object_unref)
ClocksWorldItem* clocks_world_item_new (GWeatherLocation* location);
ClocksWorldItem* clocks_world_item_construct (GType object_type,
                                              GWeatherLocation* location);
static void clocks_world_item_real_serialize (ClocksContentItem* base,
                                       GVariantBuilder* builder);
gboolean clocks_world_item_get_automatic (ClocksWorldItem* self);
GWeatherLocation* clocks_world_item_get_location (ClocksWorldItem* self);
ClocksContentItem* clocks_world_item_deserialize (GVariant* location_variant);
void clocks_world_item_set_location (ClocksWorldItem* self,
                                     GWeatherLocation* value);
void clocks_world_item_set_automatic (ClocksWorldItem* self,
                                      gboolean value);
gchar* clocks_world_item_get_country_name (ClocksWorldItem* self);
gchar* clocks_world_item_get_state_name (ClocksWorldItem* self);
gchar* clocks_world_item_get_city_name (ClocksWorldItem* self);
gboolean clocks_world_item_get_is_daytime (ClocksWorldItem* self);
gchar* clocks_world_item_get_sunrise_label (ClocksWorldItem* self);
GType clocks_utils_wall_clock_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ClocksUtilsWallClock, g_object_unref)
ClocksUtilsWallClock* clocks_utils_wall_clock_get_default (void);
gchar* clocks_utils_wall_clock_format_time (ClocksUtilsWallClock* self,
                                            GDateTime* date_time);
gchar* clocks_world_item_get_sunset_label (ClocksWorldItem* self);
gchar* clocks_world_item_get_time_label (ClocksWorldItem* self);
const gchar* clocks_world_item_get_day_label (ClocksWorldItem* self);
static void clocks_world_item_real_tick (ClocksWorldItem* self);
GDateTime* clocks_utils_wall_clock_get_date_time (ClocksUtilsWallClock* self);
static void clocks_world_item_finalize (GObject * obj);
gboolean clocks_content_item_get_selectable (ClocksContentItem* self);
gboolean clocks_content_item_get_selected (ClocksContentItem* self);
const gchar* clocks_content_item_get_name (ClocksContentItem* self);
static void _vala_clocks_world_item_get_property (GObject * object,
                                           guint property_id,
                                           GValue * value,
                                           GParamSpec * pspec);
void clocks_content_item_set_selectable (ClocksContentItem* self,
                                         gboolean value);
void clocks_content_item_set_selected (ClocksContentItem* self,
                                       gboolean value);
void clocks_content_item_set_name (ClocksContentItem* self,
                                   const gchar* value);
static void _vala_clocks_world_item_set_property (GObject * object,
                                           guint property_id,
                                           const GValue * value,
                                           GParamSpec * pspec);
GType clocks_world_tile_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ClocksWorldTile, g_object_unref)
ClocksWorldTile* clocks_world_tile_new (ClocksWorldItem* location);
ClocksWorldTile* clocks_world_tile_construct (GType object_type,
                                              ClocksWorldItem* location);
ClocksWorldItem* clocks_world_tile_get_location (ClocksWorldTile* self);
void clocks_world_tile_set_location (ClocksWorldTile* self,
                                     ClocksWorldItem* value);
static void clocks_world_tile_finalize (GObject * obj);
static void _vala_clocks_world_tile_get_property (GObject * object,
                                           guint property_id,
                                           GValue * value,
                                           GParamSpec * pspec);
static void _vala_clocks_world_tile_set_property (GObject * object,
                                           guint property_id,
                                           const GValue * value,
                                           GParamSpec * pspec);
GType clocks_world_location_dialog_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ClocksWorldLocationDialog, g_object_unref)
GType clocks_world_face_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ClocksWorldFace, g_object_unref)
ClocksWorldLocationDialog* clocks_world_location_dialog_new (GtkWindow* parent,
                                                             ClocksWorldFace* world_face);
ClocksWorldLocationDialog* clocks_world_location_dialog_construct (GType object_type,
                                                                   GtkWindow* parent,
                                                                   ClocksWorldFace* world_face);
static void clocks_world_location_dialog_icon_released (ClocksWorldLocationDialog* self);
static void _clocks_world_location_dialog_icon_released_gtk_entry_icon_release (GtkEntry* _sender,
                                                                         GtkEntryIconPosition icon_pos,
                                                                         GdkEventButton* event,
                                                                         gpointer self);
static void clocks_world_location_dialog_location_changed (ClocksWorldLocationDialog* self);
gboolean clocks_world_face_location_exists (ClocksWorldFace* self,
                                            GWeatherLocation* location);
static void _clocks_world_location_dialog_location_changed_gtk_editable_changed (GtkEditable* _sender,
                                                                          gpointer self);
ClocksWorldItem* clocks_world_location_dialog_get_location (ClocksWorldLocationDialog* self);
static void clocks_world_location_dialog_finalize (GObject * obj);
GType clocks_header_bar_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ClocksHeaderBar, g_object_unref)
GType clocks_panel_id_get_type (void) G_GNUC_CONST;
GType clocks_clock_get_type (void) G_GNUC_CONST;
GType clocks_content_store_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ClocksContentStore, g_object_unref)
GType clocks_content_view_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ClocksContentView, g_object_unref)
ClocksWorldFace* clocks_world_face_new (ClocksHeaderBar* header_bar);
ClocksWorldFace* clocks_world_face_construct (GType object_type,
                                              ClocksHeaderBar* header_bar);
ClocksContentStore* clocks_content_store_new (void);
ClocksContentStore* clocks_content_store_construct (GType object_type);
void clocks_content_store_set_sorting (ClocksContentStore* self,
                                       GCompareDataFunc sort,
                                       gpointer sort_target,
                                       GDestroyNotify sort_target_destroy_notify);
static gint __lambda20_ (ClocksWorldFace* self,
                  gconstpointer item1,
                  gconstpointer item2);
static gint ___lambda20__gcompare_data_func (gconstpointer a,
                                      gconstpointer b,
                                      gpointer self);
static void __lambda21_ (ClocksWorldFace* self);
void clocks_world_face_reset_view (ClocksWorldFace* self);
static void ___lambda21__gtk_button_clicked (GtkButton* _sender,
                                      gpointer self);
void clocks_content_view_bind_model (ClocksContentView* self,
                                     ClocksContentStore* store,
                                     ClocksContentViewContentViewCreateWidgetFunc create_func,
                                     gpointer create_func_target,
                                     GDestroyNotify create_func_target_destroy_notify);
static GtkWidget* __lambda22_ (ClocksWorldFace* self,
                        ClocksContentItem* item);
static GtkWidget* ___lambda22__clocks_content_view_content_view_create_widget_func (ClocksContentItem* item,
                                                                             gpointer self);
void clocks_content_view_set_header_bar (ClocksContentView* self,
                                         ClocksHeaderBar* bar);
static void clocks_world_face_load (ClocksWorldFace* self);
static void clocks_world_face_use_geolocation (ClocksWorldFace* self,
                                        GAsyncReadyCallback _callback_,
                                        gpointer _user_data_);
static void clocks_world_face_use_geolocation_finish (ClocksWorldFace* self,
                                               GAsyncResult* _res_);
static void ___lambda26_ (ClocksWorldFace* self,
                   GObject* obj,
                   GAsyncResult* res);
static void ____lambda26__gasync_ready_callback (GObject* source_object,
                                          GAsyncResult* res,
                                          gpointer self);
static void __lambda27_ (ClocksWorldFace* self,
                  guint position,
                  guint removed,
                  guint added);
static void clocks_world_face_save (ClocksWorldFace* self);
static void ___lambda27__g_list_model_items_changed (GListModel* _sender,
                                              guint position,
                                              guint removed,
                                              guint added,
                                              gpointer self);
static void __lambda28_ (ClocksWorldFace* self);
void clocks_content_store_foreach (ClocksContentStore* self,
                                   ClocksContentStoreForeachFunc func,
                                   gpointer func_target);
static void __lambda29_ (ClocksWorldFace* self,
                  ClocksContentItem* l);
static void ___lambda29__clocks_content_store_foreach_func (ClocksContentItem* item,
                                                     gpointer self);
static void clocks_world_face_update_standalone (ClocksWorldFace* self);
static void ___lambda28__clocks_utils_wall_clock_tick (ClocksUtilsWallClock* _sender,
                                                gpointer self);
static void clocks_world_face_item_activated (ClocksWorldFace* self,
                                       ClocksContentItem* item);
static void clocks_world_face_show_standalone (ClocksWorldFace* self,
                                        ClocksWorldItem* location);
static void _clocks_world_face_item_activated_clocks_content_view_item_activated (ClocksContentView* _sender,
                                                                           ClocksContentItem* item,
                                                                           gpointer self);
static void clocks_world_face_visible_child_changed (ClocksWorldFace* self);
ClocksHeaderBar* clocks_clock_get_header_bar (ClocksClock* self);
GType clocks_header_bar_mode_get_type (void) G_GNUC_CONST;
void clocks_header_bar_set_mode (ClocksHeaderBar* self,
                                 ClocksHeaderBarMode value);
static void _clocks_world_face_visible_child_changed_g_object_notify (GObject* _sender,
                                                               GParamSpec* pspec,
                                                               gpointer self);
void clocks_content_store_deserialize (ClocksContentStore* self,
                                       GVariant* variant,
                                       ClocksContentStoreDeserializeItemFunc deserialize_item,
                                       gpointer deserialize_item_target);
static ClocksContentItem* _clocks_world_item_deserialize_clocks_content_store_deserialize_item_func (GVariant* v,
                                                                                              gpointer self);
GVariant* clocks_content_store_serialize (ClocksContentStore* self);
static void clocks_world_face_use_geolocation_data_free (gpointer _data);
static gboolean clocks_world_face_use_geolocation_co (ClocksWorldFaceUseGeolocationData* _data_);
GType clocks_geo_info_get_type (void) G_GNUC_CONST;
G_DEFINE_AUTOPTR_CLEANUP_FUNC (ClocksGeoInfo, g_object_unref)
static Block9Data* block9_data_ref (Block9Data* _data9_);
static void block9_data_unref (void * _userdata_);
ClocksGeoInfo* clocks_geo_info_new (void);
ClocksGeoInfo* clocks_geo_info_construct (GType object_type);
static void __lambda24_ (Block9Data* _data9_,
                  GWeatherLocation* found_location);
ClocksContentItem* clocks_content_store_find (ClocksContentStore* self,
                                              ClocksContentStoreFindFunc func,
                                              gpointer func_target);
static gboolean __lambda25_ (Block9Data* _data9_,
                      ClocksContentItem* l);
gboolean clocks_geo_info_is_location_similar (ClocksGeoInfo* self,
                                              GWeatherLocation* location);
static gboolean ___lambda25__clocks_content_store_find_func (ClocksContentItem* item,
                                                      gpointer self);
void clocks_content_store_add (ClocksContentStore* self,
                               ClocksContentItem* item);
static void ___lambda24__clocks_geo_info_location_changed (ClocksGeoInfo* _sender,
                                                    GWeatherLocation* location,
                                                    gpointer self);
void clocks_geo_info_seek (ClocksGeoInfo* self,
                           GAsyncReadyCallback _callback_,
                           gpointer _user_data_);
void clocks_geo_info_seek_finish (ClocksGeoInfo* self,
                                  GAsyncResult* _res_);
static void clocks_world_face_use_geolocation_ready (GObject* source_object,
                                              GAsyncResult* _res_,
                                              gpointer _user_data_);
static void clocks_world_face_add_location_item (ClocksWorldFace* self,
                                          ClocksWorldItem* item);
void clocks_world_face_add_location (ClocksWorldFace* self,
                                     GWeatherLocation* location);
static void clocks_world_face_real_activate_new (ClocksClock* base);
static void __lambda30_ (ClocksWorldFace* self,
                  GtkDialog* dialog,
                  gint response);
static void ___lambda30__gtk_dialog_response (GtkDialog* _sender,
                                       gint response_id,
                                       gpointer self);
static void clocks_world_face_real_activate_select_all (ClocksClock* base);
void clocks_content_view_select_all (ClocksContentView* self);
static void clocks_world_face_real_activate_select_none (ClocksClock* base);
void clocks_content_view_unselect_all (ClocksContentView* self);
static gboolean clocks_world_face_real_escape_pressed (ClocksClock* base);
gboolean clocks_content_view_escape_pressed (ClocksContentView* self);
static void clocks_world_face_real_back (ClocksClock* base);
static void clocks_world_face_real_update_header_bar (ClocksClock* base);
ClocksHeaderBarMode clocks_header_bar_get_mode (ClocksHeaderBar* self);
void clocks_content_view_update_header_bar (ClocksContentView* self);
static void clocks_world_face_finalize (GObject * obj);
const gchar* clocks_clock_get_label (ClocksClock* self);
const gchar* clocks_clock_get_icon_name (ClocksClock* self);
ClocksPanelId clocks_clock_get_panel_id (ClocksClock* self);
static void _vala_clocks_world_face_get_property (GObject * object,
                                           guint property_id,
                                           GValue * value,
                                           GParamSpec * pspec);
void clocks_clock_set_label (ClocksClock* self,
                             const gchar* value);
void clocks_clock_set_icon_name (ClocksClock* self,
                                 const gchar* value);
void clocks_clock_set_header_bar (ClocksClock* self,
                                  ClocksHeaderBar* value);
void clocks_clock_set_panel_id (ClocksClock* self,
                                ClocksPanelId value);
static void _vala_clocks_world_face_set_property (GObject * object,
                                           guint property_id,
                                           const GValue * value,
                                           GParamSpec * pspec);
static void _vala_array_destroy (gpointer array,
                          gint array_length,
                          GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array,
                       gint array_length,
                       GDestroyNotify destroy_func);

static const GDBusMethodInfo * const _clocks_world_shell_world_clocks_dbus_method_info[] = {NULL};
static const GDBusSignalInfo * const _clocks_world_shell_world_clocks_dbus_signal_info[] = {NULL};
static const GDBusPropertyInfo _clocks_world_shell_world_clocks_dbus_property_info_locations = {-1, "Locations", "av", G_DBUS_PROPERTY_INFO_FLAGS_READABLE, NULL};
static const GDBusPropertyInfo * const _clocks_world_shell_world_clocks_dbus_property_info[] = {&_clocks_world_shell_world_clocks_dbus_property_info_locations, NULL};
static const GDBusInterfaceInfo _clocks_world_shell_world_clocks_dbus_interface_info = {-1, "org.gnome.Shell.ClocksIntegration", (GDBusMethodInfo **) (&_clocks_world_shell_world_clocks_dbus_method_info), (GDBusSignalInfo **) (&_clocks_world_shell_world_clocks_dbus_signal_info), (GDBusPropertyInfo **) (&_clocks_world_shell_world_clocks_dbus_property_info), NULL};
static const GDBusInterfaceVTable _clocks_world_shell_world_clocks_dbus_interface_vtable = {clocks_world_shell_world_clocks_dbus_interface_method_call, clocks_world_shell_world_clocks_dbus_interface_get_property, clocks_world_shell_world_clocks_dbus_interface_set_property};

static inline gpointer
clocks_world_shell_world_clocks_get_instance_private (ClocksWorldShellWorldClocks* self)
{
	return G_STRUCT_MEMBER_P (self, ClocksWorldShellWorldClocks_private_offset);
}

static gpointer
_g_object_ref0 (gpointer self)
{
#line 43 "../src/world.vala"
	return self ? g_object_ref (self) : NULL;
#line 718 "world.c"
}

static GVariant*
_variant_new4 (GVariant** value,
               gint value_length1)
{
	GVariant** _tmp9_;
	GVariantBuilder _tmp10_;
	gint _tmp11_;
#line 51 "../src/world.vala"
	_tmp9_ = value;
#line 51 "../src/world.vala"
	g_variant_builder_init (&_tmp10_, G_VARIANT_TYPE ("av"));
#line 51 "../src/world.vala"
	for (_tmp11_ = 0; _tmp11_ < value_length1; _tmp11_++) {
#line 51 "../src/world.vala"
		g_variant_builder_add_value (&_tmp10_, g_variant_new_variant (*_tmp9_));
#line 51 "../src/world.vala"
		_tmp9_++;
#line 738 "world.c"
	}
#line 51 "../src/world.vala"
	return g_variant_ref_sink (g_variant_builder_end (&_tmp10_));
#line 742 "world.c"
}

static void
__lambda8_ (ClocksWorldShellWorldClocks* self)
{
	GVariantBuilder* builder = NULL;
	const GVariantType* _tmp0_;
	GVariantBuilder* _tmp1_;
	GVariantBuilder* invalid_builder = NULL;
	GVariantType* _tmp2_;
	GVariantType* _tmp3_;
	GVariantBuilder* _tmp4_;
	GVariantBuilder* _tmp5_;
	GVariant* v = NULL;
	GVariant** _tmp6_;
	gint _tmp6__length1;
	GVariant** _tmp7_;
	gint _tmp7__length1;
	GVariant** _tmp8_;
	gint _tmp8__length1;
	GVariant* _tmp12_;
	GVariant* _tmp13_;
	GError* _inner_error0_ = NULL;
#line 48 "../src/world.vala"
	_tmp0_ = G_VARIANT_TYPE_ARRAY;
#line 48 "../src/world.vala"
	_tmp1_ = g_variant_builder_new (_tmp0_);
#line 48 "../src/world.vala"
	builder = _tmp1_;
#line 49 "../src/world.vala"
	_tmp2_ = g_variant_type_new ("as");
#line 49 "../src/world.vala"
	_tmp3_ = _tmp2_;
#line 49 "../src/world.vala"
	_tmp4_ = g_variant_builder_new (_tmp3_);
#line 49 "../src/world.vala"
	_tmp5_ = _tmp4_;
#line 49 "../src/world.vala"
	_g_variant_type_free0 (_tmp3_);
#line 49 "../src/world.vala"
	invalid_builder = _tmp5_;
#line 51 "../src/world.vala"
	_tmp6_ = clocks_world_shell_world_clocks_get_locations (self, &_tmp6__length1);
#line 51 "../src/world.vala"
	_tmp7_ = _tmp6_;
#line 51 "../src/world.vala"
	_tmp7__length1 = _tmp6__length1;
#line 51 "../src/world.vala"
	_tmp8_ = _tmp7_;
#line 51 "../src/world.vala"
	_tmp8__length1 = _tmp7__length1;
#line 51 "../src/world.vala"
	_tmp12_ = _variant_new4 (_tmp8_, _tmp7__length1);
#line 51 "../src/world.vala"
	_tmp13_ = _tmp12_;
#line 51 "../src/world.vala"
	_tmp8_ = (_vala_array_free (_tmp8_, _tmp8__length1, (GDestroyNotify) g_variant_unref), NULL);
#line 51 "../src/world.vala"
	v = _tmp13_;
#line 52 "../src/world.vala"
	g_variant_builder_add (builder, "{sv}", "Locations", v, NULL);
#line 804 "world.c"
	{
		GDBusConnection* _tmp14_;
		const gchar* _tmp15_;
		GVariant* _tmp16_;
		GVariant* _tmp17_;
#line 55 "../src/world.vala"
		_tmp14_ = self->priv->connection;
#line 55 "../src/world.vala"
		_tmp15_ = self->priv->object_path;
#line 55 "../src/world.vala"
		_tmp16_ = g_variant_new ("(sa{sv}as)", "org.gnome.Shell.ClocksIntegration", builder, invalid_builder, NULL);
#line 55 "../src/world.vala"
		g_variant_ref_sink (_tmp16_);
#line 55 "../src/world.vala"
		_tmp17_ = _tmp16_;
#line 55 "../src/world.vala"
		g_dbus_connection_emit_signal (_tmp14_, NULL, _tmp15_, "org.freedesktop.DBus.Properties", "PropertiesChanged", _tmp17_, &_inner_error0_);
#line 55 "../src/world.vala"
		_g_variant_unref0 (_tmp17_);
#line 55 "../src/world.vala"
		if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 826 "world.c"
			goto __catch11_g_error;
		}
	}
	goto __finally11;
	__catch11_g_error:
	{
		GError* e = NULL;
		GError* _tmp18_;
		const gchar* _tmp19_;
#line 54 "../src/world.vala"
		e = _inner_error0_;
#line 54 "../src/world.vala"
		_inner_error0_ = NULL;
#line 64 "../src/world.vala"
		_tmp18_ = e;
#line 64 "../src/world.vala"
		_tmp19_ = _tmp18_->message;
#line 64 "../src/world.vala"
		g_warning ("world.vala:64: Shell Integration failed: %s", _tmp19_);
#line 54 "../src/world.vala"
		_g_error_free0 (e);
#line 848 "world.c"
	}
	__finally11:
#line 54 "../src/world.vala"
	if (G_UNLIKELY (_inner_error0_ != NULL)) {
#line 54 "../src/world.vala"
		_g_variant_unref0 (v);
#line 54 "../src/world.vala"
		_g_variant_builder_unref0 (invalid_builder);
#line 54 "../src/world.vala"
		_g_variant_builder_unref0 (builder);
#line 54 "../src/world.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error0_->message, g_quark_to_string (_inner_error0_->domain), _inner_error0_->code);
#line 54 "../src/world.vala"
		g_clear_error (&_inner_error0_);
#line 54 "../src/world.vala"
		return;
#line 865 "world.c"
	}
#line 47 "../src/world.vala"
	_g_variant_unref0 (v);
#line 47 "../src/world.vala"
	_g_variant_builder_unref0 (invalid_builder);
#line 47 "../src/world.vala"
	_g_variant_builder_unref0 (builder);
#line 873 "world.c"
}

static void
___lambda8__g_settings_changed (GSettings* _sender,
                                const gchar* key,
                                gpointer self)
{
#line 47 "../src/world.vala"
	__lambda8_ ((ClocksWorldShellWorldClocks*) self);
#line 883 "world.c"
}

ClocksWorldShellWorldClocks*
clocks_world_shell_world_clocks_construct (GType object_type,
                                           GDBusConnection* connection,
                                           const gchar* object_path)
{
	ClocksWorldShellWorldClocks * self = NULL;
	GDBusConnection* _tmp0_;
	gchar* _tmp1_;
	GSettings* _tmp2_;
	GSettings* _tmp3_;
#line 42 "../src/world.vala"
	g_return_val_if_fail (connection != NULL, NULL);
#line 42 "../src/world.vala"
	g_return_val_if_fail (object_path != NULL, NULL);
#line 42 "../src/world.vala"
	self = (ClocksWorldShellWorldClocks*) g_object_new (object_type, NULL);
#line 43 "../src/world.vala"
	_tmp0_ = _g_object_ref0 (connection);
#line 43 "../src/world.vala"
	_g_object_unref0 (self->priv->connection);
#line 43 "../src/world.vala"
	self->priv->connection = _tmp0_;
#line 44 "../src/world.vala"
	_tmp1_ = g_strdup (object_path);
#line 44 "../src/world.vala"
	_g_free0 (self->priv->object_path);
#line 44 "../src/world.vala"
	self->priv->object_path = _tmp1_;
#line 46 "../src/world.vala"
	_tmp2_ = g_settings_new ("org.gnome.clocks");
#line 46 "../src/world.vala"
	_g_object_unref0 (self->priv->settings);
#line 46 "../src/world.vala"
	self->priv->settings = _tmp2_;
#line 47 "../src/world.vala"
	_tmp3_ = self->priv->settings;
#line 47 "../src/world.vala"
	g_signal_connect_object (_tmp3_, "changed::world-clocks", (GCallback) ___lambda8__g_settings_changed, self, 0);
#line 42 "../src/world.vala"
	return self;
#line 926 "world.c"
}

ClocksWorldShellWorldClocks*
clocks_world_shell_world_clocks_new (GDBusConnection* connection,
                                     const gchar* object_path)
{
#line 42 "../src/world.vala"
	return clocks_world_shell_world_clocks_construct (CLOCKS_WORLD_TYPE_SHELL_WORLD_CLOCKS, connection, object_path);
#line 935 "world.c"
}

static void
_vala_array_add5 (GVariant** * array,
                  int* length,
                  int* size,
                  GVariant* value)
{
#line 31 "../src/world.vala"
	if ((*length) == (*size)) {
#line 31 "../src/world.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 31 "../src/world.vala"
		*array = g_renew (GVariant*, *array, (*size) + 1);
#line 950 "world.c"
	}
#line 31 "../src/world.vala"
	(*array)[(*length)++] = value;
#line 31 "../src/world.vala"
	(*array)[*length] = NULL;
#line 956 "world.c"
}

GVariant**
clocks_world_shell_world_clocks_get_locations (ClocksWorldShellWorldClocks* self,
                                               gint* result_length1)
{
	GVariant** result;
	GVariant** rv = NULL;
	GVariant** _tmp0_;
	gint rv_length1;
	gint _rv_size_;
	GVariant* locations = NULL;
	GSettings* _tmp1_;
	GVariant* _tmp2_;
	GVariant** _tmp11_;
	gint _tmp11__length1;
#line 26 "../src/world.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 27 "../src/world.vala"
	_tmp0_ = g_new0 (GVariant*, 0 + 1);
#line 27 "../src/world.vala"
	rv = _tmp0_;
#line 27 "../src/world.vala"
	rv_length1 = 0;
#line 27 "../src/world.vala"
	_rv_size_ = rv_length1;
#line 28 "../src/world.vala"
	_tmp1_ = self->priv->settings;
#line 28 "../src/world.vala"
	_tmp2_ = g_settings_get_value (_tmp1_, "world-clocks");
#line 28 "../src/world.vala"
	locations = _tmp2_;
#line 989 "world.c"
	{
		gint i = 0;
#line 30 "../src/world.vala"
		i = 0;
#line 994 "world.c"
		{
			gboolean _tmp3_ = FALSE;
#line 30 "../src/world.vala"
			_tmp3_ = TRUE;
#line 30 "../src/world.vala"
			while (TRUE) {
#line 1001 "world.c"
				GVariant* _tmp5_;
				GVariant** _tmp6_;
				gint _tmp6__length1;
				GVariant* _tmp7_;
				GVariant* _tmp8_;
				GVariant* _tmp9_;
				GVariant* _tmp10_;
#line 30 "../src/world.vala"
				if (!_tmp3_) {
#line 1011 "world.c"
					gint _tmp4_;
#line 30 "../src/world.vala"
					_tmp4_ = i;
#line 30 "../src/world.vala"
					i = _tmp4_ + 1;
#line 1017 "world.c"
				}
#line 30 "../src/world.vala"
				_tmp3_ = FALSE;
#line 30 "../src/world.vala"
				_tmp5_ = locations;
#line 30 "../src/world.vala"
				if (!(((gsize) i) < g_variant_n_children (_tmp5_))) {
#line 30 "../src/world.vala"
					break;
#line 1027 "world.c"
				}
#line 31 "../src/world.vala"
				_tmp6_ = rv;
#line 31 "../src/world.vala"
				_tmp6__length1 = rv_length1;
#line 31 "../src/world.vala"
				_tmp7_ = locations;
#line 31 "../src/world.vala"
				_tmp8_ = g_variant_get_child_value (_tmp7_, (gsize) i);
#line 31 "../src/world.vala"
				_tmp9_ = _tmp8_;
#line 31 "../src/world.vala"
				_tmp10_ = g_variant_lookup_value (_tmp9_, "location", NULL);
#line 31 "../src/world.vala"
				_vala_array_add5 (&rv, &rv_length1, &_rv_size_, _tmp10_);
#line 31 "../src/world.vala"
				_g_variant_unref0 (_tmp9_);
#line 1045 "world.c"
			}
		}
	}
#line 33 "../src/world.vala"
	_tmp11_ = rv;
#line 33 "../src/world.vala"
	_tmp11__length1 = rv_length1;
#line 33 "../src/world.vala"
	if (result_length1) {
#line 33 "../src/world.vala"
		*result_length1 = _tmp11__length1;
#line 1057 "world.c"
	}
#line 33 "../src/world.vala"
	result = _tmp11_;
#line 33 "../src/world.vala"
	_g_variant_unref0 (locations);
#line 33 "../src/world.vala"
	return result;
#line 1065 "world.c"
}

static void
clocks_world_shell_world_clocks_class_init (ClocksWorldShellWorldClocksClass * klass,
                                            gpointer klass_data)
{
#line 24 "../src/world.vala"
	clocks_world_shell_world_clocks_parent_class = g_type_class_peek_parent (klass);
#line 24 "../src/world.vala"
	g_type_class_adjust_private_offset (klass, &ClocksWorldShellWorldClocks_private_offset);
#line 24 "../src/world.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_clocks_world_shell_world_clocks_get_property;
#line 24 "../src/world.vala"
	G_OBJECT_CLASS (klass)->finalize = clocks_world_shell_world_clocks_finalize;
#line 1080 "world.c"
}

static void
clocks_world_shell_world_clocks_instance_init (ClocksWorldShellWorldClocks * self,
                                               gpointer klass)
{
#line 24 "../src/world.vala"
	self->priv = clocks_world_shell_world_clocks_get_instance_private (self);
#line 1089 "world.c"
}

static void
clocks_world_shell_world_clocks_finalize (GObject * obj)
{
	ClocksWorldShellWorldClocks * self;
#line 24 "../src/world.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, CLOCKS_WORLD_TYPE_SHELL_WORLD_CLOCKS, ClocksWorldShellWorldClocks);
#line 37 "../src/world.vala"
	_g_object_unref0 (self->priv->connection);
#line 38 "../src/world.vala"
	_g_free0 (self->priv->object_path);
#line 40 "../src/world.vala"
	_g_object_unref0 (self->priv->settings);
#line 24 "../src/world.vala"
	G_OBJECT_CLASS (clocks_world_shell_world_clocks_parent_class)->finalize (obj);
#line 1106 "world.c"
}

GType
clocks_world_shell_world_clocks_get_type (void)
{
	static volatile gsize clocks_world_shell_world_clocks_type_id__volatile = 0;
	if (g_once_init_enter (&clocks_world_shell_world_clocks_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ClocksWorldShellWorldClocksClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) clocks_world_shell_world_clocks_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ClocksWorldShellWorldClocks), 0, (GInstanceInitFunc) clocks_world_shell_world_clocks_instance_init, NULL };
		GType clocks_world_shell_world_clocks_type_id;
		clocks_world_shell_world_clocks_type_id = g_type_register_static (G_TYPE_OBJECT, "ClocksWorldShellWorldClocks", &g_define_type_info, 0);
		g_type_set_qdata (clocks_world_shell_world_clocks_type_id, g_quark_from_static_string ("vala-dbus-register-object"), (void*) clocks_world_shell_world_clocks_register_object);
		ClocksWorldShellWorldClocks_private_offset = g_type_add_instance_private (clocks_world_shell_world_clocks_type_id, sizeof (ClocksWorldShellWorldClocksPrivate));
		g_once_init_leave (&clocks_world_shell_world_clocks_type_id__volatile, clocks_world_shell_world_clocks_type_id);
	}
	return clocks_world_shell_world_clocks_type_id__volatile;
}

static void
_vala_clocks_world_shell_world_clocks_get_property (GObject * object,
                                                    guint property_id,
                                                    GValue * value,
                                                    GParamSpec * pspec)
{
	ClocksWorldShellWorldClocks * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, CLOCKS_WORLD_TYPE_SHELL_WORLD_CLOCKS, ClocksWorldShellWorldClocks);
#line 24 "../src/world.vala"
	switch (property_id) {
#line 1134 "world.c"
		default:
#line 24 "../src/world.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 24 "../src/world.vala"
		break;
#line 1140 "world.c"
	}
}

static void
clocks_world_shell_world_clocks_dbus_interface_method_call (GDBusConnection* connection,
                                                            const gchar* sender,
                                                            const gchar* object_path,
                                                            const gchar* interface_name,
                                                            const gchar* method_name,
                                                            GVariant* parameters,
                                                            GDBusMethodInvocation* invocation,
                                                            gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	g_object_unref (invocation);
}

static GVariant*
_dbus_clocks_world_shell_world_clocks_get_locations (ClocksWorldShellWorldClocks* self)
{
	GVariant** result;
	gint result_length1 = 0;
	GVariant* _reply;
	GVariant** _tmp40_;
	GVariantBuilder _tmp41_;
	gint _tmp42_;
	result = clocks_world_shell_world_clocks_get_locations (self, &result_length1);
	_tmp40_ = result;
	g_variant_builder_init (&_tmp41_, G_VARIANT_TYPE ("av"));
	for (_tmp42_ = 0; _tmp42_ < result_length1; _tmp42_++) {
		g_variant_builder_add_value (&_tmp41_, g_variant_new_variant (*_tmp40_));
		_tmp40_++;
	}
	_reply = g_variant_builder_end (&_tmp41_);
	result = (_vala_array_free (result, result_length1, (GDestroyNotify) g_variant_unref), NULL);
	return _reply;
}

static GVariant*
clocks_world_shell_world_clocks_dbus_interface_get_property (GDBusConnection* connection,
                                                             const gchar* sender,
                                                             const gchar* object_path,
                                                             const gchar* interface_name,
                                                             const gchar* property_name,
                                                             GError** error,
                                                             gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	if (strcmp (property_name, "Locations") == 0) {
		return _dbus_clocks_world_shell_world_clocks_get_locations (object);
	}
	return NULL;
}

static gboolean
clocks_world_shell_world_clocks_dbus_interface_set_property (GDBusConnection* connection,
                                                             const gchar* sender,
                                                             const gchar* object_path,
                                                             const gchar* interface_name,
                                                             const gchar* property_name,
                                                             GVariant* value,
                                                             GError** error,
                                                             gpointer user_data)
{
	gpointer* data;
	gpointer object;
	data = user_data;
	object = data[0];
	return FALSE;
}

guint
clocks_world_shell_world_clocks_register_object (gpointer object,
                                                 GDBusConnection* connection,
                                                 const gchar* path,
                                                 GError** error)
{
	guint result;
	gpointer *data;
	data = g_new (gpointer, 3);
	data[0] = g_object_ref (object);
	data[1] = g_object_ref (connection);
	data[2] = g_strdup (path);
	result = g_dbus_connection_register_object (connection, path, (GDBusInterfaceInfo *) (&_clocks_world_shell_world_clocks_dbus_interface_info), &_clocks_world_shell_world_clocks_dbus_interface_vtable, data, _clocks_world_shell_world_clocks_unregister_object, error);
	if (!result) {
		return 0;
	}
	return result;
}

static void
_clocks_world_shell_world_clocks_unregister_object (gpointer user_data)
{
	gpointer* data;
	data = user_data;
	g_object_unref (data[0]);
	g_object_unref (data[1]);
	g_free (data[2]);
	g_free (data);
}

static inline gpointer
clocks_world_item_get_instance_private (ClocksWorldItem* self)
{
	return G_STRUCT_MEMBER_P (self, ClocksWorldItem_private_offset);
}

static gpointer
_gweather_timezone_ref0 (gpointer self)
{
#line 206 "../src/world.vala"
	return self ? gweather_timezone_ref (self) : NULL;
#line 1259 "world.c"
}

ClocksWorldItem*
clocks_world_item_construct (GType object_type,
                             GWeatherLocation* location)
{
	ClocksWorldItem * self = NULL;
	GWeatherTimezone* weather_time_zone = NULL;
	GWeatherTimezone* _tmp0_;
	GWeatherTimezone* _tmp1_;
	const gchar* _tmp2_;
	GTimeZone* _tmp3_;
#line 203 "../src/world.vala"
	g_return_val_if_fail (location != NULL, NULL);
#line 204 "../src/world.vala"
	self = (ClocksWorldItem*) g_object_new (object_type, "location", location, NULL);
#line 206 "../src/world.vala"
	_tmp0_ = gweather_location_get_timezone (location);
#line 206 "../src/world.vala"
	_tmp1_ = _gweather_timezone_ref0 (_tmp0_);
#line 206 "../src/world.vala"
	weather_time_zone = _tmp1_;
#line 207 "../src/world.vala"
	_tmp2_ = gweather_timezone_get_tzid (weather_time_zone);
#line 207 "../src/world.vala"
	_tmp3_ = g_time_zone_new (_tmp2_);
#line 207 "../src/world.vala"
	_g_time_zone_unref0 (self->priv->time_zone);
#line 207 "../src/world.vala"
	self->priv->time_zone = _tmp3_;
#line 209 "../src/world.vala"
	g_signal_emit (self, clocks_world_item_signals[CLOCKS_WORLD_ITEM_TICK_SIGNAL], 0);
#line 203 "../src/world.vala"
	_gweather_timezone_unref0 (weather_time_zone);
#line 203 "../src/world.vala"
	return self;
#line 1296 "world.c"
}

ClocksWorldItem*
clocks_world_item_new (GWeatherLocation* location)
{
#line 203 "../src/world.vala"
	return clocks_world_item_construct (CLOCKS_WORLD_TYPE_ITEM, location);
#line 1304 "world.c"
}

static void
clocks_world_item_real_serialize (ClocksContentItem* base,
                                  GVariantBuilder* builder)
{
	ClocksWorldItem * self;
	gboolean _tmp0_;
#line 227 "../src/world.vala"
	self = (ClocksWorldItem*) base;
#line 227 "../src/world.vala"
	g_return_if_fail (builder != NULL);
#line 228 "../src/world.vala"
	_tmp0_ = self->priv->_automatic;
#line 228 "../src/world.vala"
	if (!_tmp0_) {
#line 1321 "world.c"
		GVariantType* _tmp1_;
		GVariantType* _tmp2_;
		GWeatherLocation* _tmp3_;
		GVariant* _tmp4_;
#line 229 "../src/world.vala"
		_tmp1_ = g_variant_type_new ("a{sv}");
#line 229 "../src/world.vala"
		_tmp2_ = _tmp1_;
#line 229 "../src/world.vala"
		g_variant_builder_open (builder, _tmp2_);
#line 229 "../src/world.vala"
		_g_variant_type_free0 (_tmp2_);
#line 230 "../src/world.vala"
		_tmp3_ = self->priv->_location;
#line 230 "../src/world.vala"
		_tmp4_ = gweather_location_serialize (_tmp3_);
#line 230 "../src/world.vala"
		g_variant_builder_add (builder, "{sv}", "location", _tmp4_, NULL);
#line 231 "../src/world.vala"
		g_variant_builder_close (builder);
#line 1342 "world.c"
	}
}

static gpointer
_gweather_location_ref0 (gpointer self)
{
#line 238 "../src/world.vala"
	return self ? gweather_location_ref (self) : NULL;
#line 1351 "world.c"
}

ClocksContentItem*
clocks_world_item_deserialize (GVariant* location_variant)
{
	GWeatherLocation* location = NULL;
	GWeatherLocation* world = NULL;
	GWeatherLocation* _tmp0_;
	GWeatherLocation* _tmp1_;
	ClocksWorldItem* _tmp20_ = NULL;
	GWeatherLocation* _tmp21_;
	ClocksContentItem* result = NULL;
#line 235 "../src/world.vala"
	g_return_val_if_fail (location_variant != NULL, NULL);
#line 236 "../src/world.vala"
	location = NULL;
#line 238 "../src/world.vala"
	_tmp0_ = gweather_location_get_world ();
#line 238 "../src/world.vala"
	_tmp1_ = _gweather_location_ref0 (_tmp0_);
#line 238 "../src/world.vala"
	world = _tmp1_;
#line 1374 "world.c"
	{
		GVariantIter* _v_it = NULL;
		GVariantIter* _tmp2_;
		GVariant* v = NULL;
#line 240 "../src/world.vala"
		_tmp2_ = g_variant_iter_new (location_variant);
#line 240 "../src/world.vala"
		_v_it = _tmp2_;
#line 240 "../src/world.vala"
		while (TRUE) {
#line 1385 "world.c"
			GVariantIter* _tmp3_;
			GVariant* _tmp4_;
			GVariant* _tmp5_;
			gchar* key = NULL;
			GVariant* _tmp6_;
			GVariant* _tmp7_;
			GVariant* _tmp8_;
			const gchar* _tmp9_;
			gchar* _tmp10_;
			gchar* _tmp11_;
			const gchar* _tmp12_;
#line 240 "../src/world.vala"
			_tmp3_ = _v_it;
#line 240 "../src/world.vala"
			_tmp4_ = g_variant_iter_next_value (_tmp3_);
#line 240 "../src/world.vala"
			_g_variant_unref0 (v);
#line 240 "../src/world.vala"
			v = _tmp4_;
#line 240 "../src/world.vala"
			_tmp5_ = v;
#line 240 "../src/world.vala"
			if (!(_tmp5_ != NULL)) {
#line 240 "../src/world.vala"
				break;
#line 1411 "world.c"
			}
#line 241 "../src/world.vala"
			_tmp6_ = v;
#line 241 "../src/world.vala"
			_tmp7_ = g_variant_get_child_value (_tmp6_, (gsize) 0);
#line 241 "../src/world.vala"
			_tmp8_ = _tmp7_;
#line 241 "../src/world.vala"
			_tmp9_ = g_variant_get_string (_tmp8_, NULL);
#line 241 "../src/world.vala"
			_tmp10_ = g_strdup (_tmp9_);
#line 241 "../src/world.vala"
			_tmp11_ = _tmp10_;
#line 241 "../src/world.vala"
			_g_variant_unref0 (_tmp8_);
#line 241 "../src/world.vala"
			key = _tmp11_;
#line 242 "../src/world.vala"
			_tmp12_ = key;
#line 242 "../src/world.vala"
			if (g_strcmp0 (_tmp12_, "location") == 0) {
#line 1433 "world.c"
				GWeatherLocation* _tmp13_;
				GVariant* _tmp14_;
				GVariant* _tmp15_;
				GVariant* _tmp16_;
				GVariant* _tmp17_;
				GVariant* _tmp18_;
				GWeatherLocation* _tmp19_;
#line 243 "../src/world.vala"
				_tmp13_ = world;
#line 243 "../src/world.vala"
				_tmp14_ = v;
#line 243 "../src/world.vala"
				_tmp15_ = g_variant_get_child_value (_tmp14_, (gsize) 1);
#line 243 "../src/world.vala"
				_tmp16_ = _tmp15_;
#line 243 "../src/world.vala"
				_tmp17_ = g_variant_get_child_value (_tmp16_, (gsize) 0);
#line 243 "../src/world.vala"
				_tmp18_ = _tmp17_;
#line 243 "../src/world.vala"
				_tmp19_ = gweather_location_deserialize (_tmp13_, _tmp18_);
#line 243 "../src/world.vala"
				_gweather_location_unref0 (location);
#line 243 "../src/world.vala"
				location = _tmp19_;
#line 243 "../src/world.vala"
				_g_variant_unref0 (_tmp18_);
#line 243 "../src/world.vala"
				_g_variant_unref0 (_tmp16_);
#line 1463 "world.c"
			}
#line 240 "../src/world.vala"
			_g_free0 (key);
#line 1467 "world.c"
		}
#line 240 "../src/world.vala"
		_g_variant_unref0 (v);
#line 240 "../src/world.vala"
		_g_variant_iter_free0 (_v_it);
#line 1473 "world.c"
	}
#line 246 "../src/world.vala"
	_tmp21_ = location;
#line 246 "../src/world.vala"
	if (_tmp21_ != NULL) {
#line 1479 "world.c"
		GWeatherLocation* _tmp22_;
		ClocksWorldItem* _tmp23_;
#line 246 "../src/world.vala"
		_tmp22_ = location;
#line 246 "../src/world.vala"
		_tmp23_ = clocks_world_item_new (_tmp22_);
#line 246 "../src/world.vala"
		_g_object_unref0 (_tmp20_);
#line 246 "../src/world.vala"
		_tmp20_ = _tmp23_;
#line 1490 "world.c"
	} else {
#line 246 "../src/world.vala"
		_g_object_unref0 (_tmp20_);
#line 246 "../src/world.vala"
		_tmp20_ = NULL;
#line 1496 "world.c"
	}
#line 246 "../src/world.vala"
	result = (ClocksContentItem*) _tmp20_;
#line 246 "../src/world.vala"
	_gweather_location_unref0 (world);
#line 246 "../src/world.vala"
	_gweather_location_unref0 (location);
#line 246 "../src/world.vala"
	return result;
#line 1506 "world.c"
}

GWeatherLocation*
clocks_world_item_get_location (ClocksWorldItem* self)
{
	GWeatherLocation* result;
	GWeatherLocation* _tmp0_;
#line 71 "../src/world.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 71 "../src/world.vala"
	_tmp0_ = self->priv->_location;
#line 71 "../src/world.vala"
	result = _tmp0_;
#line 71 "../src/world.vala"
	return result;
#line 1522 "world.c"
}

void
clocks_world_item_set_location (ClocksWorldItem* self,
                                GWeatherLocation* value)
{
#line 71 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 71 "../src/world.vala"
	if (clocks_world_item_get_location (self) != value) {
#line 1533 "world.c"
		GWeatherLocation* _tmp0_;
#line 71 "../src/world.vala"
		_tmp0_ = _gweather_location_ref0 (value);
#line 71 "../src/world.vala"
		_gweather_location_unref0 (self->priv->_location);
#line 71 "../src/world.vala"
		self->priv->_location = _tmp0_;
#line 71 "../src/world.vala"
		g_object_notify_by_pspec ((GObject *) self, clocks_world_item_properties[CLOCKS_WORLD_ITEM_LOCATION_PROPERTY]);
#line 1543 "world.c"
	}
}

gboolean
clocks_world_item_get_automatic (ClocksWorldItem* self)
{
	gboolean result;
#line 73 "../src/world.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 73 "../src/world.vala"
	result = self->priv->_automatic;
#line 73 "../src/world.vala"
	return result;
#line 1557 "world.c"
}

void
clocks_world_item_set_automatic (ClocksWorldItem* self,
                                 gboolean value)
{
#line 73 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 73 "../src/world.vala"
	if (clocks_world_item_get_automatic (self) != value) {
#line 73 "../src/world.vala"
		self->priv->_automatic = value;
#line 73 "../src/world.vala"
		g_object_notify_by_pspec ((GObject *) self, clocks_world_item_properties[CLOCKS_WORLD_ITEM_AUTOMATIC_PROPERTY]);
#line 1572 "world.c"
	}
}

static gboolean
clocks_world_item_real_get_selectable (ClocksContentItem* base)
{
	gboolean result;
	ClocksWorldItem* self;
#line 75 "../src/world.vala"
	self = (ClocksWorldItem*) base;
#line 75 "../src/world.vala"
	result = self->priv->_selectable;
#line 75 "../src/world.vala"
	return result;
#line 1587 "world.c"
}

static void
clocks_world_item_real_set_selectable (ClocksContentItem* base,
                                       gboolean value)
{
	ClocksWorldItem* self;
#line 75 "../src/world.vala"
	self = (ClocksWorldItem*) base;
#line 75 "../src/world.vala"
	if (clocks_world_item_real_get_selectable (base) != value) {
#line 75 "../src/world.vala"
		self->priv->_selectable = value;
#line 75 "../src/world.vala"
		g_object_notify_by_pspec ((GObject *) self, clocks_world_item_properties[CLOCKS_WORLD_ITEM_SELECTABLE_PROPERTY]);
#line 1603 "world.c"
	}
}

static gboolean
clocks_world_item_real_get_selected (ClocksContentItem* base)
{
	gboolean result;
	ClocksWorldItem* self;
#line 77 "../src/world.vala"
	self = (ClocksWorldItem*) base;
#line 77 "../src/world.vala"
	result = self->priv->_selected;
#line 77 "../src/world.vala"
	return result;
#line 1618 "world.c"
}

static void
clocks_world_item_real_set_selected (ClocksContentItem* base,
                                     gboolean value)
{
	ClocksWorldItem* self;
#line 77 "../src/world.vala"
	self = (ClocksWorldItem*) base;
#line 77 "../src/world.vala"
	if (clocks_world_item_real_get_selected (base) != value) {
#line 77 "../src/world.vala"
		self->priv->_selected = value;
#line 77 "../src/world.vala"
		g_object_notify_by_pspec ((GObject *) self, clocks_world_item_properties[CLOCKS_WORLD_ITEM_SELECTED_PROPERTY]);
#line 1634 "world.c"
	}
}

static const gchar*
clocks_world_item_real_get_name (ClocksContentItem* base)
{
	const gchar* result;
	ClocksWorldItem* self;
	gchar* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gboolean _tmp3_;
	const gchar* _tmp27_;
#line 80 "../src/world.vala"
	self = (ClocksWorldItem*) base;
#line 83 "../src/world.vala"
	_tmp0_ = clocks_world_item_get_country_name (self);
#line 83 "../src/world.vala"
	_tmp1_ = _tmp0_;
#line 83 "../src/world.vala"
	_tmp2_ = _tmp1_;
#line 83 "../src/world.vala"
	_tmp3_ = _tmp2_ != NULL;
#line 83 "../src/world.vala"
	_g_free0 (_tmp2_);
#line 83 "../src/world.vala"
	if (_tmp3_) {
#line 1662 "world.c"
		gchar* _tmp4_;
		gchar* _tmp5_;
		gchar* _tmp6_;
		gboolean _tmp7_;
#line 84 "../src/world.vala"
		_tmp4_ = clocks_world_item_get_state_name (self);
#line 84 "../src/world.vala"
		_tmp5_ = _tmp4_;
#line 84 "../src/world.vala"
		_tmp6_ = _tmp5_;
#line 84 "../src/world.vala"
		_tmp7_ = _tmp6_ != NULL;
#line 84 "../src/world.vala"
		_g_free0 (_tmp6_);
#line 84 "../src/world.vala"
		if (_tmp7_) {
#line 1679 "world.c"
			gchar* _tmp8_;
			gchar* _tmp9_;
			gchar* _tmp10_;
			gchar* _tmp11_;
			gchar* _tmp12_;
			gchar* _tmp13_;
			gchar* _tmp14_;
			gchar* _tmp15_;
			gchar* _tmp16_;
			gchar* _tmp17_;
#line 85 "../src/world.vala"
			_tmp8_ = clocks_world_item_get_city_name (self);
#line 85 "../src/world.vala"
			_tmp9_ = _tmp8_;
#line 85 "../src/world.vala"
			_tmp10_ = _tmp9_;
#line 85 "../src/world.vala"
			_tmp11_ = clocks_world_item_get_state_name (self);
#line 85 "../src/world.vala"
			_tmp12_ = _tmp11_;
#line 85 "../src/world.vala"
			_tmp13_ = _tmp12_;
#line 85 "../src/world.vala"
			_tmp14_ = clocks_world_item_get_country_name (self);
#line 85 "../src/world.vala"
			_tmp15_ = _tmp14_;
#line 85 "../src/world.vala"
			_tmp16_ = _tmp15_;
#line 85 "../src/world.vala"
			_tmp17_ = g_strdup_printf ("%s, %s, %s", _tmp10_, _tmp13_, _tmp16_);
#line 85 "../src/world.vala"
			_g_free0 (self->priv->_name);
#line 85 "../src/world.vala"
			self->priv->_name = _tmp17_;
#line 85 "../src/world.vala"
			_g_free0 (_tmp16_);
#line 85 "../src/world.vala"
			_g_free0 (_tmp13_);
#line 85 "../src/world.vala"
			_g_free0 (_tmp10_);
#line 1720 "world.c"
		} else {
			gchar* _tmp18_;
			gchar* _tmp19_;
			gchar* _tmp20_;
			gchar* _tmp21_;
			gchar* _tmp22_;
			gchar* _tmp23_;
			gchar* _tmp24_;
#line 87 "../src/world.vala"
			_tmp18_ = clocks_world_item_get_city_name (self);
#line 87 "../src/world.vala"
			_tmp19_ = _tmp18_;
#line 87 "../src/world.vala"
			_tmp20_ = _tmp19_;
#line 87 "../src/world.vala"
			_tmp21_ = clocks_world_item_get_country_name (self);
#line 87 "../src/world.vala"
			_tmp22_ = _tmp21_;
#line 87 "../src/world.vala"
			_tmp23_ = _tmp22_;
#line 87 "../src/world.vala"
			_tmp24_ = g_strdup_printf ("%s, %s", _tmp20_, _tmp23_);
#line 87 "../src/world.vala"
			_g_free0 (self->priv->_name);
#line 87 "../src/world.vala"
			self->priv->_name = _tmp24_;
#line 87 "../src/world.vala"
			_g_free0 (_tmp23_);
#line 87 "../src/world.vala"
			_g_free0 (_tmp20_);
#line 1751 "world.c"
		}
	} else {
		gchar* _tmp25_;
		gchar* _tmp26_;
#line 90 "../src/world.vala"
		_tmp25_ = clocks_world_item_get_city_name (self);
#line 90 "../src/world.vala"
		_tmp26_ = _tmp25_;
#line 90 "../src/world.vala"
		_g_free0 (self->priv->_name);
#line 90 "../src/world.vala"
		self->priv->_name = _tmp26_;
#line 1764 "world.c"
	}
#line 93 "../src/world.vala"
	_tmp27_ = self->priv->_name;
#line 93 "../src/world.vala"
	result = _tmp27_;
#line 93 "../src/world.vala"
	return result;
#line 1772 "world.c"
}

static void
clocks_world_item_real_set_name (ClocksContentItem* base,
                                 const gchar* value)
{
	ClocksWorldItem* self;
#line 95 "../src/world.vala"
	self = (ClocksWorldItem*) base;
#line 95 "../src/world.vala"
	g_object_notify_by_pspec ((GObject *) self, clocks_world_item_properties[CLOCKS_WORLD_ITEM_NAME_PROPERTY]);
#line 1784 "world.c"
}

gchar*
clocks_world_item_get_city_name (ClocksWorldItem* self)
{
	gchar* result;
	gchar* city_name = NULL;
	GWeatherLocation* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp2_;
#line 101 "../src/world.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 102 "../src/world.vala"
	_tmp0_ = self->priv->_location;
#line 102 "../src/world.vala"
	_tmp1_ = gweather_location_get_city_name (_tmp0_);
#line 102 "../src/world.vala"
	city_name = _tmp1_;
#line 104 "../src/world.vala"
	_tmp2_ = city_name;
#line 104 "../src/world.vala"
	if (_tmp2_ == NULL) {
#line 1807 "world.c"
		GWeatherLocation* _tmp3_;
		const gchar* _tmp4_;
		gchar* _tmp5_;
#line 105 "../src/world.vala"
		_tmp3_ = self->priv->_location;
#line 105 "../src/world.vala"
		_tmp4_ = gweather_location_get_name (_tmp3_);
#line 105 "../src/world.vala"
		_tmp5_ = g_strdup (_tmp4_);
#line 105 "../src/world.vala"
		_g_free0 (city_name);
#line 105 "../src/world.vala"
		city_name = _tmp5_;
#line 1821 "world.c"
	}
#line 107 "../src/world.vala"
	result = city_name;
#line 107 "../src/world.vala"
	return result;
#line 1827 "world.c"
}

gchar*
clocks_world_item_get_state_name (ClocksWorldItem* self)
{
	gchar* result;
	GWeatherLocation* parent = NULL;
	GWeatherLocation* _tmp0_;
	GWeatherLocation* _tmp1_;
	GWeatherLocation* _tmp2_;
	GWeatherLocation* _tmp3_;
#line 112 "../src/world.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 113 "../src/world.vala"
	_tmp0_ = self->priv->_location;
#line 113 "../src/world.vala"
	_tmp1_ = gweather_location_get_parent (_tmp0_);
#line 113 "../src/world.vala"
	_tmp2_ = _gweather_location_ref0 (_tmp1_);
#line 113 "../src/world.vala"
	parent = _tmp2_;
#line 115 "../src/world.vala"
	_tmp3_ = parent;
#line 115 "../src/world.vala"
	if (_tmp3_ != NULL) {
#line 1853 "world.c"
		GWeatherLocation* _tmp4_;
#line 116 "../src/world.vala"
		_tmp4_ = parent;
#line 116 "../src/world.vala"
		if (gweather_location_get_level (_tmp4_) == GWEATHER_LOCATION_ADM1) {
#line 1859 "world.c"
			GWeatherLocation* _tmp5_;
			const gchar* _tmp6_;
			gchar* _tmp7_;
#line 117 "../src/world.vala"
			_tmp5_ = parent;
#line 117 "../src/world.vala"
			_tmp6_ = gweather_location_get_name (_tmp5_);
#line 117 "../src/world.vala"
			_tmp7_ = g_strdup (_tmp6_);
#line 117 "../src/world.vala"
			result = _tmp7_;
#line 117 "../src/world.vala"
			_gweather_location_unref0 (parent);
#line 117 "../src/world.vala"
			return result;
#line 1875 "world.c"
		}
	}
#line 121 "../src/world.vala"
	result = NULL;
#line 121 "../src/world.vala"
	_gweather_location_unref0 (parent);
#line 121 "../src/world.vala"
	return result;
#line 1884 "world.c"
}

gchar*
clocks_world_item_get_country_name (ClocksWorldItem* self)
{
	gchar* result;
	GWeatherLocation* _tmp0_;
	gchar* _tmp1_;
#line 126 "../src/world.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 127 "../src/world.vala"
	_tmp0_ = self->priv->_location;
#line 127 "../src/world.vala"
	_tmp1_ = gweather_location_get_country_name (_tmp0_);
#line 127 "../src/world.vala"
	result = _tmp1_;
#line 127 "../src/world.vala"
	return result;
#line 1903 "world.c"
}

gboolean
clocks_world_item_get_is_daytime (ClocksWorldItem* self)
{
	gboolean result;
	GWeatherInfo* _tmp0_;
#line 132 "../src/world.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 133 "../src/world.vala"
	_tmp0_ = self->priv->weather_info;
#line 133 "../src/world.vala"
	if (_tmp0_ != NULL) {
#line 1917 "world.c"
		GWeatherInfo* _tmp1_;
#line 134 "../src/world.vala"
		_tmp1_ = self->priv->weather_info;
#line 134 "../src/world.vala"
		result = gweather_info_is_daytime (_tmp1_);
#line 134 "../src/world.vala"
		return result;
#line 1925 "world.c"
	}
#line 136 "../src/world.vala"
	result = TRUE;
#line 136 "../src/world.vala"
	return result;
#line 1931 "world.c"
}

gchar*
clocks_world_item_get_sunrise_label (ClocksWorldItem* self)
{
	gchar* result;
	GWeatherInfo* _tmp0_;
	gulong sunrise = 0UL;
	GWeatherInfo* _tmp2_;
	gulong _tmp3_ = 0UL;
	gboolean _tmp4_;
	GDateTime* sunrise_time = NULL;
	GDateTime* _tmp6_;
	GDateTime* _tmp7_;
	GTimeZone* _tmp8_;
	GDateTime* _tmp9_;
	ClocksUtilsWallClock* _tmp10_;
	ClocksUtilsWallClock* _tmp11_;
	GDateTime* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
#line 141 "../src/world.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 142 "../src/world.vala"
	_tmp0_ = self->priv->weather_info;
#line 142 "../src/world.vala"
	if (_tmp0_ == NULL) {
#line 1959 "world.c"
		gchar* _tmp1_;
#line 143 "../src/world.vala"
		_tmp1_ = g_strdup ("-");
#line 143 "../src/world.vala"
		result = _tmp1_;
#line 143 "../src/world.vala"
		return result;
#line 1967 "world.c"
	}
#line 147 "../src/world.vala"
	_tmp2_ = self->priv->weather_info;
#line 147 "../src/world.vala"
	_tmp4_ = gweather_info_get_value_sunrise (_tmp2_, &_tmp3_);
#line 147 "../src/world.vala"
	sunrise = _tmp3_;
#line 147 "../src/world.vala"
	if (!_tmp4_) {
#line 1977 "world.c"
		gchar* _tmp5_;
#line 148 "../src/world.vala"
		_tmp5_ = g_strdup ("-");
#line 148 "../src/world.vala"
		result = _tmp5_;
#line 148 "../src/world.vala"
		return result;
#line 1985 "world.c"
	}
#line 150 "../src/world.vala"
	_tmp6_ = g_date_time_new_from_unix_local ((gint64) sunrise);
#line 150 "../src/world.vala"
	sunrise_time = _tmp6_;
#line 151 "../src/world.vala"
	_tmp7_ = sunrise_time;
#line 151 "../src/world.vala"
	_tmp8_ = self->priv->time_zone;
#line 151 "../src/world.vala"
	_tmp9_ = g_date_time_to_timezone (_tmp7_, _tmp8_);
#line 151 "../src/world.vala"
	_g_date_time_unref0 (sunrise_time);
#line 151 "../src/world.vala"
	sunrise_time = _tmp9_;
#line 152 "../src/world.vala"
	_tmp10_ = clocks_utils_wall_clock_get_default ();
#line 152 "../src/world.vala"
	_tmp11_ = _tmp10_;
#line 152 "../src/world.vala"
	_tmp12_ = sunrise_time;
#line 152 "../src/world.vala"
	_tmp13_ = clocks_utils_wall_clock_format_time (_tmp11_, _tmp12_);
#line 152 "../src/world.vala"
	_tmp14_ = _tmp13_;
#line 152 "../src/world.vala"
	_g_object_unref0 (_tmp11_);
#line 152 "../src/world.vala"
	result = _tmp14_;
#line 152 "../src/world.vala"
	_g_date_time_unref0 (sunrise_time);
#line 152 "../src/world.vala"
	return result;
#line 2019 "world.c"
}

gchar*
clocks_world_item_get_sunset_label (ClocksWorldItem* self)
{
	gchar* result;
	GWeatherInfo* _tmp0_;
	gulong sunset = 0UL;
	GWeatherInfo* _tmp2_;
	gulong _tmp3_ = 0UL;
	gboolean _tmp4_;
	GDateTime* sunset_time = NULL;
	GDateTime* _tmp6_;
	GDateTime* _tmp7_;
	GTimeZone* _tmp8_;
	GDateTime* _tmp9_;
	ClocksUtilsWallClock* _tmp10_;
	ClocksUtilsWallClock* _tmp11_;
	GDateTime* _tmp12_;
	gchar* _tmp13_;
	gchar* _tmp14_;
#line 157 "../src/world.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 158 "../src/world.vala"
	_tmp0_ = self->priv->weather_info;
#line 158 "../src/world.vala"
	if (_tmp0_ == NULL) {
#line 2047 "world.c"
		gchar* _tmp1_;
#line 159 "../src/world.vala"
		_tmp1_ = g_strdup ("-");
#line 159 "../src/world.vala"
		result = _tmp1_;
#line 159 "../src/world.vala"
		return result;
#line 2055 "world.c"
	}
#line 163 "../src/world.vala"
	_tmp2_ = self->priv->weather_info;
#line 163 "../src/world.vala"
	_tmp4_ = gweather_info_get_value_sunset (_tmp2_, &_tmp3_);
#line 163 "../src/world.vala"
	sunset = _tmp3_;
#line 163 "../src/world.vala"
	if (!_tmp4_) {
#line 2065 "world.c"
		gchar* _tmp5_;
#line 164 "../src/world.vala"
		_tmp5_ = g_strdup ("-");
#line 164 "../src/world.vala"
		result = _tmp5_;
#line 164 "../src/world.vala"
		return result;
#line 2073 "world.c"
	}
#line 166 "../src/world.vala"
	_tmp6_ = g_date_time_new_from_unix_local ((gint64) sunset);
#line 166 "../src/world.vala"
	sunset_time = _tmp6_;
#line 167 "../src/world.vala"
	_tmp7_ = sunset_time;
#line 167 "../src/world.vala"
	_tmp8_ = self->priv->time_zone;
#line 167 "../src/world.vala"
	_tmp9_ = g_date_time_to_timezone (_tmp7_, _tmp8_);
#line 167 "../src/world.vala"
	_g_date_time_unref0 (sunset_time);
#line 167 "../src/world.vala"
	sunset_time = _tmp9_;
#line 168 "../src/world.vala"
	_tmp10_ = clocks_utils_wall_clock_get_default ();
#line 168 "../src/world.vala"
	_tmp11_ = _tmp10_;
#line 168 "../src/world.vala"
	_tmp12_ = sunset_time;
#line 168 "../src/world.vala"
	_tmp13_ = clocks_utils_wall_clock_format_time (_tmp11_, _tmp12_);
#line 168 "../src/world.vala"
	_tmp14_ = _tmp13_;
#line 168 "../src/world.vala"
	_g_object_unref0 (_tmp11_);
#line 168 "../src/world.vala"
	result = _tmp14_;
#line 168 "../src/world.vala"
	_g_date_time_unref0 (sunset_time);
#line 168 "../src/world.vala"
	return result;
#line 2107 "world.c"
}

gchar*
clocks_world_item_get_time_label (ClocksWorldItem* self)
{
	gchar* result;
	ClocksUtilsWallClock* _tmp0_;
	ClocksUtilsWallClock* _tmp1_;
	GDateTime* _tmp2_;
	gchar* _tmp3_;
	gchar* _tmp4_;
#line 173 "../src/world.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 174 "../src/world.vala"
	_tmp0_ = clocks_utils_wall_clock_get_default ();
#line 174 "../src/world.vala"
	_tmp1_ = _tmp0_;
#line 174 "../src/world.vala"
	_tmp2_ = self->priv->date_time;
#line 174 "../src/world.vala"
	_tmp3_ = clocks_utils_wall_clock_format_time (_tmp1_, _tmp2_);
#line 174 "../src/world.vala"
	_tmp4_ = _tmp3_;
#line 174 "../src/world.vala"
	_g_object_unref0 (_tmp1_);
#line 174 "../src/world.vala"
	result = _tmp4_;
#line 174 "../src/world.vala"
	return result;
#line 2137 "world.c"
}

const gchar*
clocks_world_item_get_day_label (ClocksWorldItem* self)
{
	const gchar* result;
	gint d = 0;
	GDateTime* _tmp0_;
	gint t = 0;
	GDateTime* _tmp1_;
#line 179 "../src/world.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 180 "../src/world.vala"
	_tmp0_ = self->priv->date_time;
#line 180 "../src/world.vala"
	d = g_date_time_get_day_of_year (_tmp0_);
#line 181 "../src/world.vala"
	_tmp1_ = self->priv->local_time;
#line 181 "../src/world.vala"
	t = g_date_time_get_day_of_year (_tmp1_);
#line 183 "../src/world.vala"
	if (d < t) {
#line 2160 "world.c"
		const gchar* _tmp2_ = NULL;
		gboolean _tmp3_ = FALSE;
#line 186 "../src/world.vala"
		if (d == 1) {
#line 186 "../src/world.vala"
			_tmp3_ = t != 2;
#line 2167 "world.c"
		} else {
#line 186 "../src/world.vala"
			_tmp3_ = FALSE;
#line 2171 "world.c"
		}
#line 186 "../src/world.vala"
		if (_tmp3_) {
#line 186 "../src/world.vala"
			_tmp2_ = _ ("Tomorrow");
#line 2177 "world.c"
		} else {
#line 186 "../src/world.vala"
			_tmp2_ = _ ("Yesterday");
#line 2181 "world.c"
		}
#line 186 "../src/world.vala"
		result = _tmp2_;
#line 186 "../src/world.vala"
		return result;
#line 2187 "world.c"
	} else {
#line 187 "../src/world.vala"
		if (d > t) {
#line 2191 "world.c"
			const gchar* _tmp4_ = NULL;
			gboolean _tmp5_ = FALSE;
#line 190 "../src/world.vala"
			if (t == 1) {
#line 190 "../src/world.vala"
				_tmp5_ = d != 2;
#line 2198 "world.c"
			} else {
#line 190 "../src/world.vala"
				_tmp5_ = FALSE;
#line 2202 "world.c"
			}
#line 190 "../src/world.vala"
			if (_tmp5_) {
#line 190 "../src/world.vala"
				_tmp4_ = _ ("Yesterday");
#line 2208 "world.c"
			} else {
#line 190 "../src/world.vala"
				_tmp4_ = _ ("Tomorrow");
#line 2212 "world.c"
			}
#line 190 "../src/world.vala"
			result = _tmp4_;
#line 190 "../src/world.vala"
			return result;
#line 2218 "world.c"
		} else {
#line 192 "../src/world.vala"
			result = NULL;
#line 192 "../src/world.vala"
			return result;
#line 2224 "world.c"
		}
	}
}

static gpointer
_g_date_time_ref0 (gpointer self)
{
#line 215 "../src/world.vala"
	return self ? g_date_time_ref (self) : NULL;
#line 2234 "world.c"
}

static void
clocks_world_item_real_tick (ClocksWorldItem* self)
{
	ClocksUtilsWallClock* wallclock = NULL;
	ClocksUtilsWallClock* _tmp0_;
	ClocksUtilsWallClock* _tmp1_;
	GDateTime* _tmp2_;
	GDateTime* _tmp3_;
	GDateTime* _tmp4_;
	GDateTime* _tmp5_;
	GTimeZone* _tmp6_;
	GDateTime* _tmp7_;
	GWeatherLocation* _tmp8_;
#line 214 "../src/world.vala"
	_tmp0_ = clocks_utils_wall_clock_get_default ();
#line 214 "../src/world.vala"
	wallclock = _tmp0_;
#line 215 "../src/world.vala"
	_tmp1_ = wallclock;
#line 215 "../src/world.vala"
	_tmp2_ = clocks_utils_wall_clock_get_date_time (_tmp1_);
#line 215 "../src/world.vala"
	_tmp3_ = _tmp2_;
#line 215 "../src/world.vala"
	_tmp4_ = _g_date_time_ref0 (_tmp3_);
#line 215 "../src/world.vala"
	_g_date_time_unref0 (self->priv->local_time);
#line 215 "../src/world.vala"
	self->priv->local_time = _tmp4_;
#line 216 "../src/world.vala"
	_tmp5_ = self->priv->local_time;
#line 216 "../src/world.vala"
	_tmp6_ = self->priv->time_zone;
#line 216 "../src/world.vala"
	_tmp7_ = g_date_time_to_timezone (_tmp5_, _tmp6_);
#line 216 "../src/world.vala"
	_g_date_time_unref0 (self->priv->date_time);
#line 216 "../src/world.vala"
	self->priv->date_time = _tmp7_;
#line 220 "../src/world.vala"
	_tmp8_ = self->priv->_location;
#line 220 "../src/world.vala"
	if (gweather_location_has_coords (_tmp8_)) {
#line 2280 "world.c"
		GWeatherLocation* _tmp9_;
		GObject* _tmp10_;
		GObject* _tmp11_;
#line 221 "../src/world.vala"
		_tmp9_ = self->priv->_location;
#line 221 "../src/world.vala"
		_tmp10_ = g_object_new (gweather_info_get_type (), "location", _tmp9_, "enabled-providers", GWEATHER_PROVIDER_NONE, NULL);
#line 221 "../src/world.vala"
		_tmp11_ = G_IS_INITIALLY_UNOWNED (_tmp10_) ? g_object_ref_sink (_tmp10_) : _tmp10_;
#line 221 "../src/world.vala"
		_g_object_unref0 (self->priv->weather_info);
#line 221 "../src/world.vala"
		self->priv->weather_info = G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, gweather_info_get_type (), GWeatherInfo);
#line 2294 "world.c"
	}
#line 220 "../src/world.vala"
	_g_object_unref0 (wallclock);
#line 2298 "world.c"
}

static void
clocks_world_item_class_init (ClocksWorldItemClass * klass,
                              gpointer klass_data)
{
#line 70 "../src/world.vala"
	clocks_world_item_parent_class = g_type_class_peek_parent (klass);
#line 70 "../src/world.vala"
	g_type_class_adjust_private_offset (klass, &ClocksWorldItem_private_offset);
#line 70 "../src/world.vala"
	((ClocksWorldItemClass *) klass)->tick = clocks_world_item_real_tick;
#line 70 "../src/world.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_clocks_world_item_get_property;
#line 70 "../src/world.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_clocks_world_item_set_property;
#line 70 "../src/world.vala"
	G_OBJECT_CLASS (klass)->finalize = clocks_world_item_finalize;
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_LOCATION_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_LOCATION_PROPERTY] = g_param_spec_boxed ("location", "location", "location", gweather_location_get_type (), G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_AUTOMATIC_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_AUTOMATIC_PROPERTY] = g_param_spec_boolean ("automatic", "automatic", "automatic", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_SELECTABLE_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_SELECTABLE_PROPERTY] = g_param_spec_boolean ("selectable", "selectable", "selectable", TRUE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_SELECTED_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_SELECTED_PROPERTY] = g_param_spec_boolean ("selected", "selected", "selected", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_NAME_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_NAME_PROPERTY] = g_param_spec_string ("name", "name", "name", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_CITY_NAME_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_CITY_NAME_PROPERTY] = g_param_spec_string ("city-name", "city-name", "city-name", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_STATE_NAME_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_STATE_NAME_PROPERTY] = g_param_spec_string ("state-name", "state-name", "state-name", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_COUNTRY_NAME_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_COUNTRY_NAME_PROPERTY] = g_param_spec_string ("country-name", "country-name", "country-name", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_IS_DAYTIME_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_IS_DAYTIME_PROPERTY] = g_param_spec_boolean ("is-daytime", "is-daytime", "is-daytime", FALSE, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_SUNRISE_LABEL_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_SUNRISE_LABEL_PROPERTY] = g_param_spec_string ("sunrise-label", "sunrise-label", "sunrise-label", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_SUNSET_LABEL_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_SUNSET_LABEL_PROPERTY] = g_param_spec_string ("sunset-label", "sunset-label", "sunset-label", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_TIME_LABEL_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_TIME_LABEL_PROPERTY] = g_param_spec_string ("time-label", "time-label", "time-label", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 70 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_ITEM_DAY_LABEL_PROPERTY, clocks_world_item_properties[CLOCKS_WORLD_ITEM_DAY_LABEL_PROPERTY] = g_param_spec_string ("day-label", "day-label", "day-label", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE));
#line 70 "../src/world.vala"
	clocks_world_item_signals[CLOCKS_WORLD_ITEM_TICK_SIGNAL] = g_signal_new ("tick", CLOCKS_WORLD_TYPE_ITEM, G_SIGNAL_RUN_FIRST, G_STRUCT_OFFSET (ClocksWorldItemClass, tick), NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 2345 "world.c"
}

static void
clocks_world_item_clocks_content_item_interface_init (ClocksContentItemIface * iface,
                                                      gpointer iface_data)
{
#line 213 "../src/world.vala"
	clocks_world_item_clocks_content_item_parent_iface = g_type_interface_peek_parent (iface);
#line 213 "../src/world.vala"
	iface->serialize = (void (*) (ClocksContentItem*, GVariantBuilder*)) clocks_world_item_real_serialize;
#line 213 "../src/world.vala"
	iface->get_selectable = clocks_world_item_real_get_selectable;
#line 213 "../src/world.vala"
	iface->set_selectable = clocks_world_item_real_set_selectable;
#line 213 "../src/world.vala"
	iface->get_selected = clocks_world_item_real_get_selected;
#line 213 "../src/world.vala"
	iface->set_selected = clocks_world_item_real_set_selected;
#line 213 "../src/world.vala"
	iface->get_name = clocks_world_item_real_get_name;
#line 213 "../src/world.vala"
	iface->set_name = clocks_world_item_real_set_name;
#line 2368 "world.c"
}

static void
clocks_world_item_instance_init (ClocksWorldItem * self,
                                 gpointer klass)
{
#line 70 "../src/world.vala"
	self->priv = clocks_world_item_get_instance_private (self);
#line 73 "../src/world.vala"
	self->priv->_automatic = FALSE;
#line 75 "../src/world.vala"
	self->priv->_selectable = TRUE;
#line 77 "../src/world.vala"
	self->priv->_selected = FALSE;
#line 2383 "world.c"
}

static void
clocks_world_item_finalize (GObject * obj)
{
	ClocksWorldItem * self;
#line 70 "../src/world.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItem);
#line 71 "../src/world.vala"
	_gweather_location_unref0 (self->priv->_location);
#line 197 "../src/world.vala"
	_g_free0 (self->priv->_name);
#line 198 "../src/world.vala"
	_g_time_zone_unref0 (self->priv->time_zone);
#line 199 "../src/world.vala"
	_g_date_time_unref0 (self->priv->local_time);
#line 200 "../src/world.vala"
	_g_date_time_unref0 (self->priv->date_time);
#line 201 "../src/world.vala"
	_g_object_unref0 (self->priv->weather_info);
#line 213 "../src/world.vala"
	G_OBJECT_CLASS (clocks_world_item_parent_class)->finalize (obj);
#line 2406 "world.c"
}

GType
clocks_world_item_get_type (void)
{
	static volatile gsize clocks_world_item_type_id__volatile = 0;
	if (g_once_init_enter (&clocks_world_item_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ClocksWorldItemClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) clocks_world_item_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ClocksWorldItem), 0, (GInstanceInitFunc) clocks_world_item_instance_init, NULL };
		static const GInterfaceInfo clocks_content_item_info = { (GInterfaceInitFunc) clocks_world_item_clocks_content_item_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		GType clocks_world_item_type_id;
		clocks_world_item_type_id = g_type_register_static (G_TYPE_OBJECT, "ClocksWorldItem", &g_define_type_info, 0);
		g_type_add_interface_static (clocks_world_item_type_id, CLOCKS_TYPE_CONTENT_ITEM, &clocks_content_item_info);
		ClocksWorldItem_private_offset = g_type_add_instance_private (clocks_world_item_type_id, sizeof (ClocksWorldItemPrivate));
		g_once_init_leave (&clocks_world_item_type_id__volatile, clocks_world_item_type_id);
	}
	return clocks_world_item_type_id__volatile;
}

static void
_vala_clocks_world_item_get_property (GObject * object,
                                      guint property_id,
                                      GValue * value,
                                      GParamSpec * pspec)
{
	ClocksWorldItem * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItem);
#line 70 "../src/world.vala"
	switch (property_id) {
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_LOCATION_PROPERTY:
#line 70 "../src/world.vala"
		g_value_set_boxed (value, clocks_world_item_get_location (self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_AUTOMATIC_PROPERTY:
#line 70 "../src/world.vala"
		g_value_set_boolean (value, clocks_world_item_get_automatic (self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_SELECTABLE_PROPERTY:
#line 70 "../src/world.vala"
		g_value_set_boolean (value, clocks_content_item_get_selectable ((ClocksContentItem*) self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_SELECTED_PROPERTY:
#line 70 "../src/world.vala"
		g_value_set_boolean (value, clocks_content_item_get_selected ((ClocksContentItem*) self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_NAME_PROPERTY:
#line 70 "../src/world.vala"
		g_value_set_string (value, clocks_content_item_get_name ((ClocksContentItem*) self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_CITY_NAME_PROPERTY:
#line 70 "../src/world.vala"
		g_value_take_string (value, clocks_world_item_get_city_name (self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_STATE_NAME_PROPERTY:
#line 70 "../src/world.vala"
		g_value_take_string (value, clocks_world_item_get_state_name (self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_COUNTRY_NAME_PROPERTY:
#line 70 "../src/world.vala"
		g_value_take_string (value, clocks_world_item_get_country_name (self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_IS_DAYTIME_PROPERTY:
#line 70 "../src/world.vala"
		g_value_set_boolean (value, clocks_world_item_get_is_daytime (self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_SUNRISE_LABEL_PROPERTY:
#line 70 "../src/world.vala"
		g_value_take_string (value, clocks_world_item_get_sunrise_label (self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_SUNSET_LABEL_PROPERTY:
#line 70 "../src/world.vala"
		g_value_take_string (value, clocks_world_item_get_sunset_label (self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_TIME_LABEL_PROPERTY:
#line 70 "../src/world.vala"
		g_value_take_string (value, clocks_world_item_get_time_label (self));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_DAY_LABEL_PROPERTY:
#line 70 "../src/world.vala"
		g_value_set_string (value, clocks_world_item_get_day_label (self));
#line 70 "../src/world.vala"
		break;
#line 2513 "world.c"
		default:
#line 70 "../src/world.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 70 "../src/world.vala"
		break;
#line 2519 "world.c"
	}
}

static void
_vala_clocks_world_item_set_property (GObject * object,
                                      guint property_id,
                                      const GValue * value,
                                      GParamSpec * pspec)
{
	ClocksWorldItem * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItem);
#line 70 "../src/world.vala"
	switch (property_id) {
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_LOCATION_PROPERTY:
#line 70 "../src/world.vala"
		clocks_world_item_set_location (self, g_value_get_boxed (value));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_AUTOMATIC_PROPERTY:
#line 70 "../src/world.vala"
		clocks_world_item_set_automatic (self, g_value_get_boolean (value));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_SELECTABLE_PROPERTY:
#line 70 "../src/world.vala"
		clocks_content_item_set_selectable ((ClocksContentItem*) self, g_value_get_boolean (value));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_SELECTED_PROPERTY:
#line 70 "../src/world.vala"
		clocks_content_item_set_selected ((ClocksContentItem*) self, g_value_get_boolean (value));
#line 70 "../src/world.vala"
		break;
#line 70 "../src/world.vala"
		case CLOCKS_WORLD_ITEM_NAME_PROPERTY:
#line 70 "../src/world.vala"
		clocks_content_item_set_name ((ClocksContentItem*) self, g_value_get_string (value));
#line 70 "../src/world.vala"
		break;
#line 2563 "world.c"
		default:
#line 70 "../src/world.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 70 "../src/world.vala"
		break;
#line 2569 "world.c"
	}
}

static inline gpointer
clocks_world_tile_get_instance_private (ClocksWorldTile* self)
{
	return G_STRUCT_MEMBER_P (self, ClocksWorldTile_private_offset);
}

ClocksWorldTile*
clocks_world_tile_construct (GType object_type,
                             ClocksWorldItem* location)
{
	ClocksWorldTile * self = NULL;
	GtkLabel* _tmp0_;
	GtkLabel* _tmp1_;
#line 262 "../src/world.vala"
	g_return_val_if_fail (location != NULL, NULL);
#line 263 "../src/world.vala"
	self = (ClocksWorldTile*) g_object_new (object_type, "location", location, NULL);
#line 266 "../src/world.vala"
	_tmp0_ = self->priv->name_label;
#line 266 "../src/world.vala"
	g_object_bind_property_with_closures ((GObject*) location, "name", (GObject*) _tmp0_, "label", G_BINDING_DEFAULT | G_BINDING_SYNC_CREATE, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 267 "../src/world.vala"
	_tmp1_ = self->priv->time_label;
#line 267 "../src/world.vala"
	g_object_bind_property_with_closures ((GObject*) location, "time_label", (GObject*) _tmp1_, "label", G_BINDING_DEFAULT | G_BINDING_SYNC_CREATE, (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)), (GClosure*) ((NULL == NULL) ? NULL : g_cclosure_new ((GCallback) NULL, NULL, (GClosureNotify) NULL)));
#line 262 "../src/world.vala"
	return self;
#line 2600 "world.c"
}

ClocksWorldTile*
clocks_world_tile_new (ClocksWorldItem* location)
{
#line 262 "../src/world.vala"
	return clocks_world_tile_construct (CLOCKS_WORLD_TYPE_TILE, location);
#line 2608 "world.c"
}

ClocksWorldItem*
clocks_world_tile_get_location (ClocksWorldTile* self)
{
	ClocksWorldItem* result;
	ClocksWorldItem* _tmp0_;
#line 253 "../src/world.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 253 "../src/world.vala"
	_tmp0_ = self->priv->_location;
#line 253 "../src/world.vala"
	result = _tmp0_;
#line 253 "../src/world.vala"
	return result;
#line 2624 "world.c"
}

void
clocks_world_tile_set_location (ClocksWorldTile* self,
                                ClocksWorldItem* value)
{
#line 253 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 253 "../src/world.vala"
	if (clocks_world_tile_get_location (self) != value) {
#line 2635 "world.c"
		ClocksWorldItem* _tmp0_;
#line 253 "../src/world.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 253 "../src/world.vala"
		_g_object_unref0 (self->priv->_location);
#line 253 "../src/world.vala"
		self->priv->_location = _tmp0_;
#line 253 "../src/world.vala"
		g_object_notify_by_pspec ((GObject *) self, clocks_world_tile_properties[CLOCKS_WORLD_TILE_LOCATION_PROPERTY]);
#line 2645 "world.c"
	}
}

static void
clocks_world_tile_class_init (ClocksWorldTileClass * klass,
                              gpointer klass_data)
{
#line 251 "../src/world.vala"
	clocks_world_tile_parent_class = g_type_class_peek_parent (klass);
#line 251 "../src/world.vala"
	g_type_class_adjust_private_offset (klass, &ClocksWorldTile_private_offset);
#line 251 "../src/world.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_clocks_world_tile_get_property;
#line 251 "../src/world.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_clocks_world_tile_set_property;
#line 251 "../src/world.vala"
	G_OBJECT_CLASS (klass)->finalize = clocks_world_tile_finalize;
#line 251 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_TILE_LOCATION_PROPERTY, clocks_world_tile_properties[CLOCKS_WORLD_TILE_LOCATION_PROPERTY] = g_param_spec_object ("location", "location", "location", CLOCKS_WORLD_TYPE_ITEM, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 251 "../src/world.vala"
	gtk_widget_class_set_template_from_resource (GTK_WIDGET_CLASS (klass), "/org/gnome/clocks/ui/worldtile.ui");
#line 251 "../src/world.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "time_label", FALSE, ClocksWorldTile_private_offset + G_STRUCT_OFFSET (ClocksWorldTilePrivate, time_label));
#line 251 "../src/world.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "name_label", FALSE, ClocksWorldTile_private_offset + G_STRUCT_OFFSET (ClocksWorldTilePrivate, name_label));
#line 251 "../src/world.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "delta_label", FALSE, ClocksWorldTile_private_offset + G_STRUCT_OFFSET (ClocksWorldTilePrivate, delta_label));
#line 2673 "world.c"
}

static void
clocks_world_tile_instance_init (ClocksWorldTile * self,
                                 gpointer klass)
{
#line 251 "../src/world.vala"
	self->priv = clocks_world_tile_get_instance_private (self);
#line 251 "../src/world.vala"
	gtk_widget_init_template (GTK_WIDGET (self));
#line 2684 "world.c"
}

static void
clocks_world_tile_finalize (GObject * obj)
{
	ClocksWorldTile * self;
#line 251 "../src/world.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, CLOCKS_WORLD_TYPE_TILE, ClocksWorldTile);
#line 253 "../src/world.vala"
	_g_object_unref0 (self->priv->_location);
#line 256 "../src/world.vala"
	_g_object_unref0 (self->priv->time_label);
#line 258 "../src/world.vala"
	_g_object_unref0 (self->priv->name_label);
#line 260 "../src/world.vala"
	_g_object_unref0 (self->priv->delta_label);
#line 251 "../src/world.vala"
	G_OBJECT_CLASS (clocks_world_tile_parent_class)->finalize (obj);
#line 2703 "world.c"
}

GType
clocks_world_tile_get_type (void)
{
	static volatile gsize clocks_world_tile_type_id__volatile = 0;
	if (g_once_init_enter (&clocks_world_tile_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ClocksWorldTileClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) clocks_world_tile_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ClocksWorldTile), 0, (GInstanceInitFunc) clocks_world_tile_instance_init, NULL };
		GType clocks_world_tile_type_id;
		clocks_world_tile_type_id = g_type_register_static (gtk_box_get_type (), "ClocksWorldTile", &g_define_type_info, 0);
		ClocksWorldTile_private_offset = g_type_add_instance_private (clocks_world_tile_type_id, sizeof (ClocksWorldTilePrivate));
		g_once_init_leave (&clocks_world_tile_type_id__volatile, clocks_world_tile_type_id);
	}
	return clocks_world_tile_type_id__volatile;
}

static void
_vala_clocks_world_tile_get_property (GObject * object,
                                      guint property_id,
                                      GValue * value,
                                      GParamSpec * pspec)
{
	ClocksWorldTile * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, CLOCKS_WORLD_TYPE_TILE, ClocksWorldTile);
#line 251 "../src/world.vala"
	switch (property_id) {
#line 251 "../src/world.vala"
		case CLOCKS_WORLD_TILE_LOCATION_PROPERTY:
#line 251 "../src/world.vala"
		g_value_set_object (value, clocks_world_tile_get_location (self));
#line 251 "../src/world.vala"
		break;
#line 2736 "world.c"
		default:
#line 251 "../src/world.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 251 "../src/world.vala"
		break;
#line 2742 "world.c"
	}
}

static void
_vala_clocks_world_tile_set_property (GObject * object,
                                      guint property_id,
                                      const GValue * value,
                                      GParamSpec * pspec)
{
	ClocksWorldTile * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, CLOCKS_WORLD_TYPE_TILE, ClocksWorldTile);
#line 251 "../src/world.vala"
	switch (property_id) {
#line 251 "../src/world.vala"
		case CLOCKS_WORLD_TILE_LOCATION_PROPERTY:
#line 251 "../src/world.vala"
		clocks_world_tile_set_location (self, g_value_get_object (value));
#line 251 "../src/world.vala"
		break;
#line 2762 "world.c"
		default:
#line 251 "../src/world.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 251 "../src/world.vala"
		break;
#line 2768 "world.c"
	}
}

static inline gpointer
clocks_world_location_dialog_get_instance_private (ClocksWorldLocationDialog* self)
{
	return G_STRUCT_MEMBER_P (self, ClocksWorldLocationDialog_private_offset);
}

ClocksWorldLocationDialog*
clocks_world_location_dialog_construct (GType object_type,
                                        GtkWindow* parent,
                                        ClocksWorldFace* world_face)
{
	ClocksWorldLocationDialog * self = NULL;
	ClocksWorldFace* _tmp0_;
#line 280 "../src/world.vala"
	g_return_val_if_fail (parent != NULL, NULL);
#line 280 "../src/world.vala"
	g_return_val_if_fail (world_face != NULL, NULL);
#line 281 "../src/world.vala"
	self = (ClocksWorldLocationDialog*) g_object_new (object_type, "transient-for", parent, "use-header-bar", 1, NULL);
#line 283 "../src/world.vala"
	_tmp0_ = _g_object_ref0 (world_face);
#line 283 "../src/world.vala"
	_g_object_unref0 (self->priv->world);
#line 283 "../src/world.vala"
	self->priv->world = _tmp0_;
#line 280 "../src/world.vala"
	return self;
#line 2799 "world.c"
}

ClocksWorldLocationDialog*
clocks_world_location_dialog_new (GtkWindow* parent,
                                  ClocksWorldFace* world_face)
{
#line 280 "../src/world.vala"
	return clocks_world_location_dialog_construct (CLOCKS_WORLD_TYPE_LOCATION_DIALOG, parent, world_face);
#line 2808 "world.c"
}

static void
clocks_world_location_dialog_icon_released (ClocksWorldLocationDialog* self)
{
	GWeatherLocationEntry* _tmp0_;
	gchar* _tmp1_;
	gchar* _tmp2_;
	gchar* _tmp3_;
	gboolean _tmp4_;
#line 287 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 288 "../src/world.vala"
	_tmp0_ = self->priv->location_entry;
#line 288 "../src/world.vala"
	g_object_get ((GtkEntry*) _tmp0_, "secondary-icon-name", &_tmp1_, NULL);
#line 288 "../src/world.vala"
	_tmp2_ = _tmp1_;
#line 288 "../src/world.vala"
	_tmp3_ = _tmp2_;
#line 288 "../src/world.vala"
	_tmp4_ = g_strcmp0 (_tmp3_, "edit-clear-symbolic") == 0;
#line 288 "../src/world.vala"
	_g_free0 (_tmp3_);
#line 288 "../src/world.vala"
	if (_tmp4_) {
#line 2835 "world.c"
		GWeatherLocationEntry* _tmp5_;
#line 289 "../src/world.vala"
		_tmp5_ = self->priv->location_entry;
#line 289 "../src/world.vala"
		gtk_entry_set_text ((GtkEntry*) _tmp5_, "");
#line 2841 "world.c"
	}
}

static void
_clocks_world_location_dialog_icon_released_gtk_entry_icon_release (GtkEntry* _sender,
                                                                    GtkEntryIconPosition icon_pos,
                                                                    GdkEventButton* event,
                                                                    gpointer self)
{
#line 275 "../src/world.vala"
	clocks_world_location_dialog_icon_released ((ClocksWorldLocationDialog*) self);
#line 2853 "world.c"
}

static void
clocks_world_location_dialog_location_changed (ClocksWorldLocationDialog* self)
{
	GWeatherLocation* l = NULL;
	GWeatherTimezone* t = NULL;
	GWeatherLocationEntry* _tmp0_;
	const gchar* _tmp1_;
	gboolean _tmp15_ = FALSE;
	GWeatherLocation* _tmp16_;
#line 294 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 295 "../src/world.vala"
	l = NULL;
#line 296 "../src/world.vala"
	t = NULL;
#line 298 "../src/world.vala"
	_tmp0_ = self->priv->location_entry;
#line 298 "../src/world.vala"
	_tmp1_ = gtk_entry_get_text ((GtkEntry*) _tmp0_);
#line 298 "../src/world.vala"
	if (g_strcmp0 (_tmp1_, "") != 0) {
#line 2877 "world.c"
		GWeatherLocationEntry* _tmp2_;
		GWeatherLocation* _tmp3_;
		gboolean _tmp4_ = FALSE;
		GWeatherLocation* _tmp5_;
#line 299 "../src/world.vala"
		_tmp2_ = self->priv->location_entry;
#line 299 "../src/world.vala"
		_tmp3_ = gweather_location_entry_get_location (_tmp2_);
#line 299 "../src/world.vala"
		_gweather_location_unref0 (l);
#line 299 "../src/world.vala"
		l = _tmp3_;
#line 301 "../src/world.vala"
		_tmp5_ = l;
#line 301 "../src/world.vala"
		if (_tmp5_ != NULL) {
#line 2894 "world.c"
			ClocksWorldFace* _tmp6_;
			GWeatherLocation* _tmp7_;
#line 301 "../src/world.vala"
			_tmp6_ = self->priv->world;
#line 301 "../src/world.vala"
			_tmp7_ = l;
#line 301 "../src/world.vala"
			_tmp4_ = !clocks_world_face_location_exists (_tmp6_, _tmp7_);
#line 2903 "world.c"
		} else {
#line 301 "../src/world.vala"
			_tmp4_ = FALSE;
#line 2907 "world.c"
		}
#line 301 "../src/world.vala"
		if (_tmp4_) {
#line 2911 "world.c"
			GWeatherLocation* _tmp8_;
			GWeatherTimezone* _tmp9_;
			GWeatherTimezone* _tmp10_;
			GWeatherTimezone* _tmp11_;
#line 302 "../src/world.vala"
			_tmp8_ = l;
#line 302 "../src/world.vala"
			_tmp9_ = gweather_location_get_timezone (_tmp8_);
#line 302 "../src/world.vala"
			_tmp10_ = _gweather_timezone_ref0 (_tmp9_);
#line 302 "../src/world.vala"
			_gweather_timezone_unref0 (t);
#line 302 "../src/world.vala"
			t = _tmp10_;
#line 304 "../src/world.vala"
			_tmp11_ = t;
#line 304 "../src/world.vala"
			if (_tmp11_ == NULL) {
#line 2930 "world.c"
				GWeatherLocation* _tmp12_;
				gchar* _tmp13_;
				gchar* _tmp14_;
#line 305 "../src/world.vala"
				_tmp12_ = l;
#line 305 "../src/world.vala"
				_tmp13_ = gweather_location_get_city_name (_tmp12_);
#line 305 "../src/world.vala"
				_tmp14_ = _tmp13_;
#line 305 "../src/world.vala"
				g_warning ("world.vala:305: Timezone not defined for %s. This is a bug in libgweat" \
"her database", _tmp14_);
#line 305 "../src/world.vala"
				_g_free0 (_tmp14_);
#line 2944 "world.c"
			}
		}
	}
#line 311 "../src/world.vala"
	_tmp16_ = l;
#line 311 "../src/world.vala"
	if (_tmp16_ != NULL) {
#line 2952 "world.c"
		GWeatherTimezone* _tmp17_;
#line 311 "../src/world.vala"
		_tmp17_ = t;
#line 311 "../src/world.vala"
		_tmp15_ = _tmp17_ != NULL;
#line 2958 "world.c"
	} else {
#line 311 "../src/world.vala"
		_tmp15_ = FALSE;
#line 2962 "world.c"
	}
#line 311 "../src/world.vala"
	gtk_dialog_set_response_sensitive ((GtkDialog*) self, 1, _tmp15_);
#line 294 "../src/world.vala"
	_gweather_timezone_unref0 (t);
#line 294 "../src/world.vala"
	_gweather_location_unref0 (l);
#line 2970 "world.c"
}

static void
_clocks_world_location_dialog_location_changed_gtk_editable_changed (GtkEditable* _sender,
                                                                     gpointer self)
{
#line 275 "../src/world.vala"
	clocks_world_location_dialog_location_changed ((ClocksWorldLocationDialog*) self);
#line 2979 "world.c"
}

ClocksWorldItem*
clocks_world_location_dialog_get_location (ClocksWorldLocationDialog* self)
{
	GWeatherLocation* location = NULL;
	GWeatherLocationEntry* _tmp0_;
	GWeatherLocation* _tmp1_;
	ClocksWorldItem* _tmp2_ = NULL;
	GWeatherLocation* _tmp3_;
	ClocksWorldItem* result = NULL;
#line 314 "../src/world.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 315 "../src/world.vala"
	_tmp0_ = self->priv->location_entry;
#line 315 "../src/world.vala"
	_tmp1_ = gweather_location_entry_get_location (_tmp0_);
#line 315 "../src/world.vala"
	location = _tmp1_;
#line 316 "../src/world.vala"
	_tmp3_ = location;
#line 316 "../src/world.vala"
	if (_tmp3_ != NULL) {
#line 3003 "world.c"
		GWeatherLocation* _tmp4_;
		ClocksWorldItem* _tmp5_;
#line 316 "../src/world.vala"
		_tmp4_ = location;
#line 316 "../src/world.vala"
		_tmp5_ = clocks_world_item_new (_tmp4_);
#line 316 "../src/world.vala"
		_g_object_unref0 (_tmp2_);
#line 316 "../src/world.vala"
		_tmp2_ = _tmp5_;
#line 3014 "world.c"
	} else {
#line 316 "../src/world.vala"
		_g_object_unref0 (_tmp2_);
#line 316 "../src/world.vala"
		_tmp2_ = NULL;
#line 3020 "world.c"
	}
#line 316 "../src/world.vala"
	result = _tmp2_;
#line 316 "../src/world.vala"
	_gweather_location_unref0 (location);
#line 316 "../src/world.vala"
	return result;
#line 3028 "world.c"
}

static void
clocks_world_location_dialog_class_init (ClocksWorldLocationDialogClass * klass,
                                         gpointer klass_data)
{
#line 275 "../src/world.vala"
	clocks_world_location_dialog_parent_class = g_type_class_peek_parent (klass);
#line 275 "../src/world.vala"
	g_type_class_adjust_private_offset (klass, &ClocksWorldLocationDialog_private_offset);
#line 275 "../src/world.vala"
	G_OBJECT_CLASS (klass)->finalize = clocks_world_location_dialog_finalize;
#line 275 "../src/world.vala"
	gtk_widget_class_set_template_from_resource (GTK_WIDGET_CLASS (klass), "/org/gnome/clocks/ui/worldlocationdialog.ui");
#line 275 "../src/world.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "location_entry", FALSE, ClocksWorldLocationDialog_private_offset + G_STRUCT_OFFSET (ClocksWorldLocationDialogPrivate, location_entry));
#line 275 "../src/world.vala"
	gtk_widget_class_bind_template_callback_full (GTK_WIDGET_CLASS (klass), "icon_released", G_CALLBACK(_clocks_world_location_dialog_icon_released_gtk_entry_icon_release));
#line 275 "../src/world.vala"
	gtk_widget_class_bind_template_callback_full (GTK_WIDGET_CLASS (klass), "location_changed", G_CALLBACK(_clocks_world_location_dialog_location_changed_gtk_editable_changed));
#line 3049 "world.c"
}

static void
clocks_world_location_dialog_instance_init (ClocksWorldLocationDialog * self,
                                            gpointer klass)
{
#line 275 "../src/world.vala"
	self->priv = clocks_world_location_dialog_get_instance_private (self);
#line 275 "../src/world.vala"
	gtk_widget_init_template (GTK_WIDGET (self));
#line 3060 "world.c"
}

static void
clocks_world_location_dialog_finalize (GObject * obj)
{
	ClocksWorldLocationDialog * self;
#line 275 "../src/world.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, CLOCKS_WORLD_TYPE_LOCATION_DIALOG, ClocksWorldLocationDialog);
#line 277 "../src/world.vala"
	_g_object_unref0 (self->priv->location_entry);
#line 278 "../src/world.vala"
	_g_object_unref0 (self->priv->world);
#line 275 "../src/world.vala"
	G_OBJECT_CLASS (clocks_world_location_dialog_parent_class)->finalize (obj);
#line 3075 "world.c"
}

GType
clocks_world_location_dialog_get_type (void)
{
	static volatile gsize clocks_world_location_dialog_type_id__volatile = 0;
	if (g_once_init_enter (&clocks_world_location_dialog_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ClocksWorldLocationDialogClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) clocks_world_location_dialog_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ClocksWorldLocationDialog), 0, (GInstanceInitFunc) clocks_world_location_dialog_instance_init, NULL };
		GType clocks_world_location_dialog_type_id;
		clocks_world_location_dialog_type_id = g_type_register_static (gtk_dialog_get_type (), "ClocksWorldLocationDialog", &g_define_type_info, 0);
		ClocksWorldLocationDialog_private_offset = g_type_add_instance_private (clocks_world_location_dialog_type_id, sizeof (ClocksWorldLocationDialogPrivate));
		g_once_init_leave (&clocks_world_location_dialog_type_id__volatile, clocks_world_location_dialog_type_id);
	}
	return clocks_world_location_dialog_type_id__volatile;
}

static inline gpointer
clocks_world_face_get_instance_private (ClocksWorldFace* self)
{
	return G_STRUCT_MEMBER_P (self, ClocksWorldFace_private_offset);
}

static gint
__lambda20_ (ClocksWorldFace* self,
             gconstpointer item1,
             gconstpointer item2)
{
	gint offset1 = 0;
	GWeatherLocation* _tmp0_;
	GWeatherLocation* _tmp1_;
	GWeatherTimezone* _tmp2_;
	gint offset2 = 0;
	GWeatherLocation* _tmp3_;
	GWeatherLocation* _tmp4_;
	GWeatherTimezone* _tmp5_;
	gint result = 0;
#line 358 "../src/world.vala"
	_tmp0_ = clocks_world_item_get_location (G_TYPE_CHECK_INSTANCE_CAST (item1, CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItem));
#line 358 "../src/world.vala"
	_tmp1_ = _tmp0_;
#line 358 "../src/world.vala"
	_tmp2_ = gweather_location_get_timezone (_tmp1_);
#line 358 "../src/world.vala"
	offset1 = gweather_timezone_get_offset (_tmp2_);
#line 359 "../src/world.vala"
	_tmp3_ = clocks_world_item_get_location (G_TYPE_CHECK_INSTANCE_CAST (item2, CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItem));
#line 359 "../src/world.vala"
	_tmp4_ = _tmp3_;
#line 359 "../src/world.vala"
	_tmp5_ = gweather_location_get_timezone (_tmp4_);
#line 359 "../src/world.vala"
	offset2 = gweather_timezone_get_offset (_tmp5_);
#line 360 "../src/world.vala"
	if (offset1 < offset2) {
#line 361 "../src/world.vala"
		result = -1;
#line 361 "../src/world.vala"
		return result;
#line 3134 "world.c"
	}
#line 362 "../src/world.vala"
	if (offset1 > offset2) {
#line 363 "../src/world.vala"
		result = 1;
#line 363 "../src/world.vala"
		return result;
#line 3142 "world.c"
	}
#line 364 "../src/world.vala"
	result = 0;
#line 364 "../src/world.vala"
	return result;
#line 3148 "world.c"
}

static gint
___lambda20__gcompare_data_func (gconstpointer a,
                                 gconstpointer b,
                                 gpointer self)
{
	gint result;
	result = __lambda20_ ((ClocksWorldFace*) self, a, b);
#line 357 "../src/world.vala"
	return result;
#line 3160 "world.c"
}

static void
__lambda21_ (ClocksWorldFace* self)
{
#line 379 "../src/world.vala"
	clocks_world_face_reset_view (self);
#line 3168 "world.c"
}

static void
___lambda21__gtk_button_clicked (GtkButton* _sender,
                                 gpointer self)
{
#line 378 "../src/world.vala"
	__lambda21_ ((ClocksWorldFace*) self);
#line 3177 "world.c"
}

static GtkWidget*
__lambda22_ (ClocksWorldFace* self,
             ClocksContentItem* item)
{
	ClocksWorldTile* _tmp0_;
	GtkWidget* result = NULL;
#line 383 "../src/world.vala"
	g_return_val_if_fail (item != NULL, NULL);
#line 384 "../src/world.vala"
	_tmp0_ = clocks_world_tile_new (G_TYPE_CHECK_INSTANCE_CAST (item, CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItem));
#line 384 "../src/world.vala"
	g_object_ref_sink (_tmp0_);
#line 384 "../src/world.vala"
	result = (GtkWidget*) _tmp0_;
#line 384 "../src/world.vala"
	return result;
#line 3196 "world.c"
}

static GtkWidget*
___lambda22__clocks_content_view_content_view_create_widget_func (ClocksContentItem* item,
                                                                  gpointer self)
{
	GtkWidget* result;
	result = __lambda22_ ((ClocksWorldFace*) self, item);
#line 383 "../src/world.vala"
	return result;
#line 3207 "world.c"
}

static void
___lambda26_ (ClocksWorldFace* self,
              GObject* obj,
              GAsyncResult* res)
{
#line 393 "../src/world.vala"
	g_return_if_fail (res != NULL);
#line 394 "../src/world.vala"
	clocks_world_face_use_geolocation_finish (self, res);
#line 3219 "world.c"
}

static void
____lambda26__gasync_ready_callback (GObject* source_object,
                                     GAsyncResult* res,
                                     gpointer self)
{
#line 393 "../src/world.vala"
	___lambda26_ ((ClocksWorldFace*) self, source_object, res);
#line 393 "../src/world.vala"
	g_object_unref (self);
#line 3231 "world.c"
}

static void
__lambda27_ (ClocksWorldFace* self,
             guint position,
             guint removed,
             guint added)
{
#line 399 "../src/world.vala"
	clocks_world_face_save (self);
#line 400 "../src/world.vala"
	clocks_world_face_reset_view (self);
#line 3244 "world.c"
}

static void
___lambda27__g_list_model_items_changed (GListModel* _sender,
                                         guint position,
                                         guint removed,
                                         guint added,
                                         gpointer self)
{
#line 398 "../src/world.vala"
	__lambda27_ ((ClocksWorldFace*) self, position, removed, added);
#line 3256 "world.c"
}

static void
__lambda29_ (ClocksWorldFace* self,
             ClocksContentItem* l)
{
#line 407 "../src/world.vala"
	g_return_if_fail (l != NULL);
#line 408 "../src/world.vala"
	g_signal_emit (G_TYPE_CHECK_INSTANCE_CAST (l, CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItem), clocks_world_item_signals[CLOCKS_WORLD_ITEM_TICK_SIGNAL], 0);
#line 3267 "world.c"
}

static void
___lambda29__clocks_content_store_foreach_func (ClocksContentItem* item,
                                                gpointer self)
{
#line 407 "../src/world.vala"
	__lambda29_ ((ClocksWorldFace*) self, item);
#line 3276 "world.c"
}

static void
__lambda28_ (ClocksWorldFace* self)
{
	ClocksContentStore* _tmp0_;
	ClocksContentView* _tmp1_;
#line 407 "../src/world.vala"
	_tmp0_ = self->priv->locations;
#line 407 "../src/world.vala"
	clocks_content_store_foreach (_tmp0_, ___lambda29__clocks_content_store_foreach_func, self);
#line 410 "../src/world.vala"
	_tmp1_ = self->priv->content_view;
#line 410 "../src/world.vala"
	gtk_widget_queue_draw ((GtkWidget*) _tmp1_);
#line 411 "../src/world.vala"
	clocks_world_face_update_standalone (self);
#line 3294 "world.c"
}

static void
___lambda28__clocks_utils_wall_clock_tick (ClocksUtilsWallClock* _sender,
                                           gpointer self)
{
#line 406 "../src/world.vala"
	__lambda28_ ((ClocksWorldFace*) self);
#line 3303 "world.c"
}

ClocksWorldFace*
clocks_world_face_construct (GType object_type,
                             ClocksHeaderBar* header_bar)
{
	ClocksWorldFace * self = NULL;
	ClocksContentStore* _tmp0_;
	GSettings* _tmp1_;
	ClocksContentStore* _tmp2_;
	GtkButton* _tmp3_;
	GtkButton* _tmp4_;
	GtkButton* _tmp5_;
	GtkButton* _tmp6_;
	GtkButton* _tmp7_;
	GtkButton* _tmp8_;
	GtkImage* back_button_image = NULL;
	GtkImage* _tmp9_;
	GtkButton* _tmp10_;
	GtkButton* _tmp11_;
	GtkImage* _tmp12_;
	GtkButton* _tmp13_;
	GtkButton* _tmp14_;
	GtkButton* _tmp15_;
	ClocksContentView* _tmp16_;
	ClocksContentStore* _tmp17_;
	ClocksContentView* _tmp18_;
	GSettings* _tmp19_;
	ClocksContentStore* _tmp20_;
	ClocksUtilsWallClock* _tmp21_;
	ClocksUtilsWallClock* _tmp22_;
#line 347 "../src/world.vala"
	g_return_val_if_fail (header_bar != NULL, NULL);
#line 348 "../src/world.vala"
	self = (ClocksWorldFace*) g_object_new (object_type, "label", _ ("World"), "icon-name", "globe-symbolic", "header-bar", header_bar, "panel-id", CLOCKS_PANEL_ID_WORLD, "transition-type", GTK_STACK_TRANSITION_TYPE_CROSSFADE, NULL);
#line 354 "../src/world.vala"
	_tmp0_ = clocks_content_store_new ();
#line 354 "../src/world.vala"
	_g_object_unref0 (self->priv->locations);
#line 354 "../src/world.vala"
	self->priv->locations = _tmp0_;
#line 355 "../src/world.vala"
	_tmp1_ = g_settings_new ("org.gnome.clocks");
#line 355 "../src/world.vala"
	_g_object_unref0 (self->priv->settings);
#line 355 "../src/world.vala"
	self->priv->settings = _tmp1_;
#line 357 "../src/world.vala"
	_tmp2_ = self->priv->locations;
#line 357 "../src/world.vala"
	clocks_content_store_set_sorting (_tmp2_, ___lambda20__gcompare_data_func, g_object_ref (self), g_object_unref);
#line 367 "../src/world.vala"
	_tmp3_ = (GtkButton*) gtk_button_new_from_icon_name ("list-add-symbolic", (GtkIconSize) GTK_ICON_SIZE_BUTTON);
#line 367 "../src/world.vala"
	g_object_ref_sink (_tmp3_);
#line 367 "../src/world.vala"
	_g_object_unref0 (self->priv->new_button);
#line 367 "../src/world.vala"
	self->priv->new_button = _tmp3_;
#line 368 "../src/world.vala"
	_tmp4_ = self->priv->new_button;
#line 368 "../src/world.vala"
	gtk_widget_set_valign ((GtkWidget*) _tmp4_, GTK_ALIGN_CENTER);
#line 369 "../src/world.vala"
	_tmp5_ = self->priv->new_button;
#line 369 "../src/world.vala"
	gtk_widget_set_no_show_all ((GtkWidget*) _tmp5_, TRUE);
#line 370 "../src/world.vala"
	_tmp6_ = self->priv->new_button;
#line 370 "../src/world.vala"
	gtk_actionable_set_action_name ((GtkActionable*) _tmp6_, "win.new");
#line 371 "../src/world.vala"
	_tmp7_ = self->priv->new_button;
#line 371 "../src/world.vala"
	gtk_header_bar_pack_start ((GtkHeaderBar*) header_bar, (GtkWidget*) _tmp7_);
#line 373 "../src/world.vala"
	_tmp8_ = (GtkButton*) gtk_button_new ();
#line 373 "../src/world.vala"
	g_object_ref_sink (_tmp8_);
#line 373 "../src/world.vala"
	_g_object_unref0 (self->priv->back_button);
#line 373 "../src/world.vala"
	self->priv->back_button = _tmp8_;
#line 374 "../src/world.vala"
	_tmp9_ = (GtkImage*) gtk_image_new_from_icon_name ("go-previous-symbolic", (GtkIconSize) GTK_ICON_SIZE_MENU);
#line 374 "../src/world.vala"
	g_object_ref_sink (_tmp9_);
#line 374 "../src/world.vala"
	back_button_image = _tmp9_;
#line 375 "../src/world.vala"
	_tmp10_ = self->priv->back_button;
#line 375 "../src/world.vala"
	gtk_widget_set_valign ((GtkWidget*) _tmp10_, GTK_ALIGN_CENTER);
#line 376 "../src/world.vala"
	_tmp11_ = self->priv->back_button;
#line 376 "../src/world.vala"
	_tmp12_ = back_button_image;
#line 376 "../src/world.vala"
	gtk_button_set_image (_tmp11_, (GtkWidget*) _tmp12_);
#line 377 "../src/world.vala"
	_tmp13_ = self->priv->back_button;
#line 377 "../src/world.vala"
	gtk_widget_set_no_show_all ((GtkWidget*) _tmp13_, TRUE);
#line 378 "../src/world.vala"
	_tmp14_ = self->priv->back_button;
#line 378 "../src/world.vala"
	g_signal_connect_object (_tmp14_, "clicked", (GCallback) ___lambda21__gtk_button_clicked, self, 0);
#line 381 "../src/world.vala"
	_tmp15_ = self->priv->back_button;
#line 381 "../src/world.vala"
	gtk_header_bar_pack_start ((GtkHeaderBar*) header_bar, (GtkWidget*) _tmp15_);
#line 383 "../src/world.vala"
	_tmp16_ = self->priv->content_view;
#line 383 "../src/world.vala"
	_tmp17_ = self->priv->locations;
#line 383 "../src/world.vala"
	clocks_content_view_bind_model (_tmp16_, _tmp17_, ___lambda22__clocks_content_view_content_view_create_widget_func, g_object_ref (self), g_object_unref);
#line 387 "../src/world.vala"
	_tmp18_ = self->priv->content_view;
#line 387 "../src/world.vala"
	clocks_content_view_set_header_bar (_tmp18_, header_bar);
#line 389 "../src/world.vala"
	clocks_world_face_load (self);
#line 390 "../src/world.vala"
	gtk_widget_show_all ((GtkWidget*) self);
#line 392 "../src/world.vala"
	_tmp19_ = self->priv->settings;
#line 392 "../src/world.vala"
	if (g_settings_get_boolean (_tmp19_, "geolocation")) {
#line 393 "../src/world.vala"
		clocks_world_face_use_geolocation (self, ____lambda26__gasync_ready_callback, g_object_ref (self));
#line 3435 "world.c"
	}
#line 398 "../src/world.vala"
	_tmp20_ = self->priv->locations;
#line 398 "../src/world.vala"
	g_signal_connect_object ((GListModel*) _tmp20_, "items-changed", (GCallback) ___lambda27__g_list_model_items_changed, self, 0);
#line 403 "../src/world.vala"
	clocks_world_face_reset_view (self);
#line 406 "../src/world.vala"
	_tmp21_ = clocks_utils_wall_clock_get_default ();
#line 406 "../src/world.vala"
	_tmp22_ = _tmp21_;
#line 406 "../src/world.vala"
	g_signal_connect_object (_tmp22_, "tick", (GCallback) ___lambda28__clocks_utils_wall_clock_tick, self, 0);
#line 406 "../src/world.vala"
	_g_object_unref0 (_tmp22_);
#line 347 "../src/world.vala"
	_g_object_unref0 (back_button_image);
#line 347 "../src/world.vala"
	return self;
#line 3455 "world.c"
}

ClocksWorldFace*
clocks_world_face_new (ClocksHeaderBar* header_bar)
{
#line 347 "../src/world.vala"
	return clocks_world_face_construct (CLOCKS_WORLD_TYPE_FACE, header_bar);
#line 3463 "world.c"
}

static void
clocks_world_face_item_activated (ClocksWorldFace* self,
                                  ClocksContentItem* item)
{
#line 416 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 416 "../src/world.vala"
	g_return_if_fail (item != NULL);
#line 417 "../src/world.vala"
	clocks_world_face_show_standalone (self, G_TYPE_CHECK_INSTANCE_CAST (item, CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItem));
#line 3476 "world.c"
}

static void
_clocks_world_face_item_activated_clocks_content_view_item_activated (ClocksContentView* _sender,
                                                                      ClocksContentItem* item,
                                                                      gpointer self)
{
#line 321 "../src/world.vala"
	clocks_world_face_item_activated ((ClocksWorldFace*) self, item);
#line 3486 "world.c"
}

static void
clocks_world_face_visible_child_changed (ClocksWorldFace* self)
{
	gboolean _tmp0_ = FALSE;
	GtkWidget* _tmp1_;
	GtkWidget* _tmp2_;
	GtkWidget* _tmp3_;
#line 421 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 422 "../src/world.vala"
	_tmp1_ = gtk_stack_get_visible_child ((GtkStack*) self);
#line 422 "../src/world.vala"
	_tmp2_ = _tmp1_;
#line 422 "../src/world.vala"
	_tmp3_ = self->priv->empty_view;
#line 422 "../src/world.vala"
	if (_tmp2_ == _tmp3_) {
#line 422 "../src/world.vala"
		_tmp0_ = TRUE;
#line 3508 "world.c"
	} else {
		GtkWidget* _tmp4_;
		GtkWidget* _tmp5_;
		ClocksContentView* _tmp6_;
#line 422 "../src/world.vala"
		_tmp4_ = gtk_stack_get_visible_child ((GtkStack*) self);
#line 422 "../src/world.vala"
		_tmp5_ = _tmp4_;
#line 422 "../src/world.vala"
		_tmp6_ = self->priv->content_view;
#line 422 "../src/world.vala"
		_tmp0_ = _tmp5_ == G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, gtk_widget_get_type (), GtkWidget);
#line 3521 "world.c"
	}
#line 422 "../src/world.vala"
	if (_tmp0_) {
#line 3525 "world.c"
		ClocksHeaderBar* _tmp7_;
		ClocksHeaderBar* _tmp8_;
#line 423 "../src/world.vala"
		_tmp7_ = clocks_clock_get_header_bar ((ClocksClock*) self);
#line 423 "../src/world.vala"
		_tmp8_ = _tmp7_;
#line 423 "../src/world.vala"
		clocks_header_bar_set_mode (_tmp8_, CLOCKS_HEADER_BAR_MODE_NORMAL);
#line 3534 "world.c"
	} else {
		GtkWidget* _tmp9_;
		GtkWidget* _tmp10_;
		GtkWidget* _tmp11_;
#line 424 "../src/world.vala"
		_tmp9_ = gtk_stack_get_visible_child ((GtkStack*) self);
#line 424 "../src/world.vala"
		_tmp10_ = _tmp9_;
#line 424 "../src/world.vala"
		_tmp11_ = self->priv->standalone;
#line 424 "../src/world.vala"
		if (_tmp10_ == _tmp11_) {
#line 3547 "world.c"
			ClocksHeaderBar* _tmp12_;
			ClocksHeaderBar* _tmp13_;
#line 425 "../src/world.vala"
			_tmp12_ = clocks_clock_get_header_bar ((ClocksClock*) self);
#line 425 "../src/world.vala"
			_tmp13_ = _tmp12_;
#line 425 "../src/world.vala"
			clocks_header_bar_set_mode (_tmp13_, CLOCKS_HEADER_BAR_MODE_STANDALONE);
#line 3556 "world.c"
		}
	}
}

static void
_clocks_world_face_visible_child_changed_g_object_notify (GObject* _sender,
                                                          GParamSpec* pspec,
                                                          gpointer self)
{
#line 321 "../src/world.vala"
	clocks_world_face_visible_child_changed ((ClocksWorldFace*) self);
#line 3568 "world.c"
}

static void
clocks_world_face_update_standalone (ClocksWorldFace* self)
{
	ClocksWorldItem* _tmp0_;
#line 429 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 430 "../src/world.vala"
	_tmp0_ = self->priv->standalone_location;
#line 430 "../src/world.vala"
	if (_tmp0_ != NULL) {
#line 3581 "world.c"
		GtkLabel* _tmp1_;
		ClocksWorldItem* _tmp2_;
		gchar* _tmp3_;
		gchar* _tmp4_;
		gchar* _tmp5_;
		GtkLabel* _tmp6_;
		ClocksWorldItem* _tmp7_;
		const gchar* _tmp8_;
		const gchar* _tmp9_;
		GtkLabel* _tmp10_;
		ClocksWorldItem* _tmp11_;
		gchar* _tmp12_;
		gchar* _tmp13_;
		gchar* _tmp14_;
		GtkLabel* _tmp15_;
		ClocksWorldItem* _tmp16_;
		gchar* _tmp17_;
		gchar* _tmp18_;
		gchar* _tmp19_;
#line 431 "../src/world.vala"
		_tmp1_ = self->priv->standalone_time_label;
#line 431 "../src/world.vala"
		_tmp2_ = self->priv->standalone_location;
#line 431 "../src/world.vala"
		_tmp3_ = clocks_world_item_get_time_label (_tmp2_);
#line 431 "../src/world.vala"
		_tmp4_ = _tmp3_;
#line 431 "../src/world.vala"
		_tmp5_ = _tmp4_;
#line 431 "../src/world.vala"
		gtk_label_set_label (_tmp1_, _tmp5_);
#line 431 "../src/world.vala"
		_g_free0 (_tmp5_);
#line 432 "../src/world.vala"
		_tmp6_ = self->priv->standalone_day_label;
#line 432 "../src/world.vala"
		_tmp7_ = self->priv->standalone_location;
#line 432 "../src/world.vala"
		_tmp8_ = clocks_world_item_get_day_label (_tmp7_);
#line 432 "../src/world.vala"
		_tmp9_ = _tmp8_;
#line 432 "../src/world.vala"
		gtk_label_set_label (_tmp6_, _tmp9_);
#line 433 "../src/world.vala"
		_tmp10_ = self->priv->standalone_sunrise_label;
#line 433 "../src/world.vala"
		_tmp11_ = self->priv->standalone_location;
#line 433 "../src/world.vala"
		_tmp12_ = clocks_world_item_get_sunrise_label (_tmp11_);
#line 433 "../src/world.vala"
		_tmp13_ = _tmp12_;
#line 433 "../src/world.vala"
		_tmp14_ = _tmp13_;
#line 433 "../src/world.vala"
		gtk_label_set_label (_tmp10_, _tmp14_);
#line 433 "../src/world.vala"
		_g_free0 (_tmp14_);
#line 434 "../src/world.vala"
		_tmp15_ = self->priv->standalone_sunset_label;
#line 434 "../src/world.vala"
		_tmp16_ = self->priv->standalone_location;
#line 434 "../src/world.vala"
		_tmp17_ = clocks_world_item_get_sunset_label (_tmp16_);
#line 434 "../src/world.vala"
		_tmp18_ = _tmp17_;
#line 434 "../src/world.vala"
		_tmp19_ = _tmp18_;
#line 434 "../src/world.vala"
		gtk_label_set_label (_tmp15_, _tmp19_);
#line 434 "../src/world.vala"
		_g_free0 (_tmp19_);
#line 3653 "world.c"
	}
}

static void
clocks_world_face_show_standalone (ClocksWorldFace* self,
                                   ClocksWorldItem* location)
{
	ClocksWorldItem* _tmp0_;
	GtkWidget* _tmp1_;
#line 438 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 438 "../src/world.vala"
	g_return_if_fail (location != NULL);
#line 439 "../src/world.vala"
	_tmp0_ = _g_object_ref0 (location);
#line 439 "../src/world.vala"
	_g_object_unref0 (self->priv->standalone_location);
#line 439 "../src/world.vala"
	self->priv->standalone_location = _tmp0_;
#line 440 "../src/world.vala"
	clocks_world_face_update_standalone (self);
#line 441 "../src/world.vala"
	_tmp1_ = self->priv->standalone;
#line 441 "../src/world.vala"
	gtk_stack_set_visible_child ((GtkStack*) self, _tmp1_);
#line 3679 "world.c"
}

static ClocksContentItem*
_clocks_world_item_deserialize_clocks_content_store_deserialize_item_func (GVariant* v,
                                                                           gpointer self)
{
	ClocksContentItem* result;
	result = clocks_world_item_deserialize (v);
#line 445 "../src/world.vala"
	return result;
#line 3690 "world.c"
}

static void
clocks_world_face_load (ClocksWorldFace* self)
{
	ClocksContentStore* _tmp0_;
	GSettings* _tmp1_;
	GVariant* _tmp2_;
	GVariant* _tmp3_;
#line 444 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 445 "../src/world.vala"
	_tmp0_ = self->priv->locations;
#line 445 "../src/world.vala"
	_tmp1_ = self->priv->settings;
#line 445 "../src/world.vala"
	_tmp2_ = g_settings_get_value (_tmp1_, "world-clocks");
#line 445 "../src/world.vala"
	_tmp3_ = _tmp2_;
#line 445 "../src/world.vala"
	clocks_content_store_deserialize (_tmp0_, _tmp3_, _clocks_world_item_deserialize_clocks_content_store_deserialize_item_func, NULL);
#line 445 "../src/world.vala"
	_g_variant_unref0 (_tmp3_);
#line 3714 "world.c"
}

static void
clocks_world_face_save (ClocksWorldFace* self)
{
	GSettings* _tmp0_;
	ClocksContentStore* _tmp1_;
	GVariant* _tmp2_;
	GVariant* _tmp3_;
#line 448 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 449 "../src/world.vala"
	_tmp0_ = self->priv->settings;
#line 449 "../src/world.vala"
	_tmp1_ = self->priv->locations;
#line 449 "../src/world.vala"
	_tmp2_ = clocks_content_store_serialize (_tmp1_);
#line 449 "../src/world.vala"
	_tmp3_ = _tmp2_;
#line 449 "../src/world.vala"
	g_settings_set_value (_tmp0_, "world-clocks", _tmp3_);
#line 449 "../src/world.vala"
	_g_variant_unref0 (_tmp3_);
#line 3738 "world.c"
}

static void
clocks_world_face_use_geolocation_data_free (gpointer _data)
{
	ClocksWorldFaceUseGeolocationData* _data_;
	_data_ = _data;
#line 321 "../src/world.vala"
	_g_object_unref0 (_data_->self);
#line 321 "../src/world.vala"
	g_slice_free (ClocksWorldFaceUseGeolocationData, _data_);
#line 3750 "world.c"
}

static void
clocks_world_face_use_geolocation (ClocksWorldFace* self,
                                   GAsyncReadyCallback _callback_,
                                   gpointer _user_data_)
{
	ClocksWorldFaceUseGeolocationData* _data_;
	ClocksWorldFace* _tmp0_;
#line 321 "../src/world.vala"
	_data_ = g_slice_new0 (ClocksWorldFaceUseGeolocationData);
#line 321 "../src/world.vala"
	_data_->_async_result = g_task_new (G_OBJECT (self), NULL, _callback_, _user_data_);
#line 321 "../src/world.vala"
	g_task_set_task_data (_data_->_async_result, _data_, clocks_world_face_use_geolocation_data_free);
#line 321 "../src/world.vala"
	_tmp0_ = _g_object_ref0 (self);
#line 321 "../src/world.vala"
	_data_->self = _tmp0_;
#line 321 "../src/world.vala"
	clocks_world_face_use_geolocation_co (_data_);
#line 3772 "world.c"
}

static void
clocks_world_face_use_geolocation_finish (ClocksWorldFace* self,
                                          GAsyncResult* _res_)
{
	ClocksWorldFaceUseGeolocationData* _data_;
#line 321 "../src/world.vala"
	_data_ = g_task_propagate_pointer (G_TASK (_res_), NULL);
#line 3782 "world.c"
}

static Block9Data*
block9_data_ref (Block9Data* _data9_)
{
#line 452 "../src/world.vala"
	g_atomic_int_inc (&_data9_->_ref_count_);
#line 452 "../src/world.vala"
	return _data9_;
#line 3792 "world.c"
}

static void
block9_data_unref (void * _userdata_)
{
	Block9Data* _data9_;
	_data9_ = (Block9Data*) _userdata_;
#line 452 "../src/world.vala"
	if (g_atomic_int_dec_and_test (&_data9_->_ref_count_)) {
#line 3802 "world.c"
		ClocksWorldFace* self;
#line 452 "../src/world.vala"
		self = _data9_->self;
#line 452 "../src/world.vala"
		_g_object_unref0 (_data9_->geo_info);
#line 452 "../src/world.vala"
		_g_object_unref0 (self);
#line 452 "../src/world.vala"
		g_slice_free (Block9Data, _data9_);
#line 3812 "world.c"
	}
}

static gboolean
__lambda25_ (Block9Data* _data9_,
             ClocksContentItem* l)
{
	ClocksWorldFace* self;
	GWeatherLocation* _tmp0_;
	GWeatherLocation* _tmp1_;
	gboolean result = FALSE;
#line 456 "../src/world.vala"
	self = _data9_->self;
#line 456 "../src/world.vala"
	g_return_val_if_fail (l != NULL, FALSE);
#line 457 "../src/world.vala"
	_tmp0_ = clocks_world_item_get_location (G_TYPE_CHECK_INSTANCE_CAST (l, CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItem));
#line 457 "../src/world.vala"
	_tmp1_ = _tmp0_;
#line 457 "../src/world.vala"
	result = clocks_geo_info_is_location_similar (_data9_->geo_info, _tmp1_);
#line 457 "../src/world.vala"
	return result;
#line 3836 "world.c"
}

static gboolean
___lambda25__clocks_content_store_find_func (ClocksContentItem* item,
                                             gpointer self)
{
	gboolean result;
	result = __lambda25_ (self, item);
#line 456 "../src/world.vala"
	return result;
#line 3847 "world.c"
}

static void
__lambda24_ (Block9Data* _data9_,
             GWeatherLocation* found_location)
{
	ClocksWorldFace* self;
	ClocksWorldItem* item = NULL;
	ClocksContentStore* _tmp0_;
	ClocksContentItem* _tmp1_;
	ClocksWorldItem* _tmp2_;
	ClocksWorldItem* _tmp3_;
	ClocksWorldItem* _tmp4_;
	ClocksWorldItem* _tmp5_;
	ClocksContentStore* _tmp6_;
	ClocksWorldItem* _tmp7_;
#line 455 "../src/world.vala"
	self = _data9_->self;
#line 455 "../src/world.vala"
	g_return_if_fail (found_location != NULL);
#line 456 "../src/world.vala"
	_tmp0_ = self->priv->locations;
#line 456 "../src/world.vala"
	_tmp1_ = clocks_content_store_find (_tmp0_, ___lambda25__clocks_content_store_find_func, _data9_);
#line 456 "../src/world.vala"
	item = G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, CLOCKS_WORLD_TYPE_ITEM, ClocksWorldItem);
#line 460 "../src/world.vala"
	_tmp2_ = item;
#line 460 "../src/world.vala"
	if (_tmp2_ != NULL) {
#line 461 "../src/world.vala"
		_g_object_unref0 (item);
#line 461 "../src/world.vala"
		return;
#line 3882 "world.c"
	}
#line 464 "../src/world.vala"
	_tmp3_ = clocks_world_item_new (found_location);
#line 464 "../src/world.vala"
	_g_object_unref0 (item);
#line 464 "../src/world.vala"
	item = _tmp3_;
#line 465 "../src/world.vala"
	_tmp4_ = item;
#line 465 "../src/world.vala"
	clocks_world_item_set_automatic (_tmp4_, TRUE);
#line 466 "../src/world.vala"
	_tmp5_ = item;
#line 466 "../src/world.vala"
	clocks_content_item_set_selectable ((ClocksContentItem*) _tmp5_, FALSE);
#line 467 "../src/world.vala"
	_tmp6_ = self->priv->locations;
#line 467 "../src/world.vala"
	_tmp7_ = item;
#line 467 "../src/world.vala"
	clocks_content_store_add (_tmp6_, (ClocksContentItem*) _tmp7_);
#line 455 "../src/world.vala"
	_g_object_unref0 (item);
#line 3906 "world.c"
}

static void
___lambda24__clocks_geo_info_location_changed (ClocksGeoInfo* _sender,
                                               GWeatherLocation* location,
                                               gpointer self)
{
#line 455 "../src/world.vala"
	__lambda24_ (self, location);
#line 3916 "world.c"
}

static void
clocks_world_face_use_geolocation_ready (GObject* source_object,
                                         GAsyncResult* _res_,
                                         gpointer _user_data_)
{
	ClocksWorldFaceUseGeolocationData* _data_;
#line 470 "../src/world.vala"
	_data_ = _user_data_;
#line 470 "../src/world.vala"
	_data_->_source_object_ = source_object;
#line 470 "../src/world.vala"
	_data_->_res_ = _res_;
#line 470 "../src/world.vala"
	clocks_world_face_use_geolocation_co (_data_);
#line 3933 "world.c"
}

static gboolean
clocks_world_face_use_geolocation_co (ClocksWorldFaceUseGeolocationData* _data_)
{
#line 452 "../src/world.vala"
	switch (_data_->_state_) {
#line 452 "../src/world.vala"
		case 0:
#line 3943 "world.c"
		goto _state_0;
#line 452 "../src/world.vala"
		case 1:
#line 3947 "world.c"
		goto _state_1;
		default:
#line 452 "../src/world.vala"
		g_assert_not_reached ();
#line 3952 "world.c"
	}
	_state_0:
#line 452 "../src/world.vala"
	_data_->_data9_ = g_slice_new0 (Block9Data);
#line 452 "../src/world.vala"
	_data_->_data9_->_ref_count_ = 1;
#line 452 "../src/world.vala"
	_data_->_data9_->self = g_object_ref (_data_->self);
#line 452 "../src/world.vala"
	_data_->_data9_->_async_data_ = _data_;
#line 453 "../src/world.vala"
	_data_->_tmp0_ = clocks_geo_info_new ();
#line 453 "../src/world.vala"
	_data_->_data9_->geo_info = _data_->_tmp0_;
#line 455 "../src/world.vala"
	g_signal_connect_data (_data_->_data9_->geo_info, "location-changed", (GCallback) ___lambda24__clocks_geo_info_location_changed, block9_data_ref (_data_->_data9_), (GClosureNotify) block9_data_unref, 0);
#line 470 "../src/world.vala"
	_data_->_state_ = 1;
#line 470 "../src/world.vala"
	clocks_geo_info_seek (_data_->_data9_->geo_info, clocks_world_face_use_geolocation_ready, _data_);
#line 470 "../src/world.vala"
	return FALSE;
#line 3975 "world.c"
	_state_1:
#line 470 "../src/world.vala"
	clocks_geo_info_seek_finish (_data_->_data9_->geo_info, _data_->_res_);
#line 452 "../src/world.vala"
	block9_data_unref (_data_->_data9_);
#line 452 "../src/world.vala"
	_data_->_data9_ = NULL;
#line 452 "../src/world.vala"
	g_task_return_pointer (_data_->_async_result, _data_, NULL);
#line 452 "../src/world.vala"
	if (_data_->_state_ != 0) {
#line 452 "../src/world.vala"
		while (!g_task_get_completed (_data_->_async_result)) {
#line 452 "../src/world.vala"
			g_main_context_iteration (g_task_get_context (_data_->_async_result), TRUE);
#line 3991 "world.c"
		}
	}
#line 452 "../src/world.vala"
	g_object_unref (_data_->_async_result);
#line 452 "../src/world.vala"
	return FALSE;
#line 3998 "world.c"
}

static void
clocks_world_face_add_location_item (ClocksWorldFace* self,
                                     ClocksWorldItem* item)
{
	ClocksContentStore* _tmp0_;
#line 473 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 473 "../src/world.vala"
	g_return_if_fail (item != NULL);
#line 474 "../src/world.vala"
	_tmp0_ = self->priv->locations;
#line 474 "../src/world.vala"
	clocks_content_store_add (_tmp0_, (ClocksContentItem*) item);
#line 475 "../src/world.vala"
	clocks_world_face_save (self);
#line 4016 "world.c"
}

gboolean
clocks_world_face_location_exists (ClocksWorldFace* self,
                                   GWeatherLocation* location)
{
	gboolean exists = FALSE;
	guint n = 0U;
	ClocksContentStore* _tmp0_;
	gboolean result = FALSE;
#line 478 "../src/world.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 478 "../src/world.vala"
	g_return_val_if_fail (location != NULL, FALSE);
#line 479 "../src/world.vala"
	exists = FALSE;
#line 480 "../src/world.vala"
	_tmp0_ = self->priv->locations;
#line 480 "../src/world.vala"
	n = g_list_model_get_n_items ((GListModel*) _tmp0_);
#line 4037 "world.c"
	{
		gint i = 0;
#line 481 "../src/world.vala"
		i = 0;
#line 4042 "world.c"
		{
			gboolean _tmp1_ = FALSE;
#line 481 "../src/world.vala"
			_tmp1_ = TRUE;
#line 481 "../src/world.vala"
			while (TRUE) {
#line 4049 "world.c"
				ClocksWorldItem* l = NULL;
				ClocksContentStore* _tmp3_;
				GObject* _tmp4_;
				ClocksWorldItem* _tmp5_;
				ClocksWorldItem* _tmp6_;
				GWeatherLocation* _tmp7_;
				GWeatherLocation* _tmp8_;
#line 481 "../src/world.vala"
				if (!_tmp1_) {
#line 4059 "world.c"
					gint _tmp2_;
#line 481 "../src/world.vala"
					_tmp2_ = i;
#line 481 "../src/world.vala"
					i = _tmp2_ + 1;
#line 4065 "world.c"
				}
#line 481 "../src/world.vala"
				_tmp1_ = FALSE;
#line 481 "../src/world.vala"
				if (!(((guint) i) < n)) {
#line 481 "../src/world.vala"
					break;
#line 4073 "world.c"
				}
#line 482 "../src/world.vala"
				_tmp3_ = self->priv->locations;
#line 482 "../src/world.vala"
				_tmp4_ = g_list_model_get_object ((GListModel*) _tmp3_, (guint) i);
#line 482 "../src/world.vala"
				_tmp5_ = CLOCKS_WORLD_IS_ITEM (_tmp4_) ? ((ClocksWorldItem*) _tmp4_) : NULL;
#line 482 "../src/world.vala"
				if (_tmp5_ == NULL) {
#line 482 "../src/world.vala"
					_g_object_unref0 (_tmp4_);
#line 4085 "world.c"
				}
#line 482 "../src/world.vala"
				l = _tmp5_;
#line 483 "../src/world.vala"
				_tmp6_ = l;
#line 483 "../src/world.vala"
				_tmp7_ = clocks_world_item_get_location (_tmp6_);
#line 483 "../src/world.vala"
				_tmp8_ = _tmp7_;
#line 483 "../src/world.vala"
				if (gweather_location_equal (_tmp8_, location)) {
#line 484 "../src/world.vala"
					exists = TRUE;
#line 485 "../src/world.vala"
					_g_object_unref0 (l);
#line 485 "../src/world.vala"
					break;
#line 4103 "world.c"
				}
#line 481 "../src/world.vala"
				_g_object_unref0 (l);
#line 4107 "world.c"
			}
		}
	}
#line 489 "../src/world.vala"
	result = exists;
#line 489 "../src/world.vala"
	return result;
#line 4115 "world.c"
}

void
clocks_world_face_add_location (ClocksWorldFace* self,
                                GWeatherLocation* location)
{
#line 492 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 492 "../src/world.vala"
	g_return_if_fail (location != NULL);
#line 493 "../src/world.vala"
	if (!clocks_world_face_location_exists (self, location)) {
#line 4128 "world.c"
		ClocksWorldItem* _tmp0_;
		ClocksWorldItem* _tmp1_;
#line 494 "../src/world.vala"
		_tmp0_ = clocks_world_item_new (location);
#line 494 "../src/world.vala"
		_tmp1_ = _tmp0_;
#line 494 "../src/world.vala"
		clocks_world_face_add_location_item (self, _tmp1_);
#line 494 "../src/world.vala"
		_g_object_unref0 (_tmp1_);
#line 4139 "world.c"
	}
}

static void
__lambda30_ (ClocksWorldFace* self,
             GtkDialog* dialog,
             gint response)
{
#line 501 "../src/world.vala"
	g_return_if_fail (dialog != NULL);
#line 502 "../src/world.vala"
	if (response == 1) {
#line 4152 "world.c"
		ClocksWorldItem* location = NULL;
		ClocksWorldItem* _tmp0_;
		ClocksWorldItem* _tmp1_;
#line 503 "../src/world.vala"
		_tmp0_ = clocks_world_location_dialog_get_location (G_TYPE_CHECK_INSTANCE_CAST (dialog, CLOCKS_WORLD_TYPE_LOCATION_DIALOG, ClocksWorldLocationDialog));
#line 503 "../src/world.vala"
		location = _tmp0_;
#line 504 "../src/world.vala"
		_tmp1_ = location;
#line 504 "../src/world.vala"
		clocks_world_face_add_location_item (self, _tmp1_);
#line 502 "../src/world.vala"
		_g_object_unref0 (location);
#line 4166 "world.c"
	}
#line 506 "../src/world.vala"
	gtk_widget_destroy ((GtkWidget*) dialog);
#line 4170 "world.c"
}

static void
___lambda30__gtk_dialog_response (GtkDialog* _sender,
                                  gint response_id,
                                  gpointer self)
{
#line 501 "../src/world.vala"
	__lambda30_ ((ClocksWorldFace*) self, _sender, response_id);
#line 4180 "world.c"
}

static void
clocks_world_face_real_activate_new (ClocksClock* base)
{
	ClocksWorldFace * self;
	ClocksWorldLocationDialog* dialog = NULL;
	GtkWidget* _tmp0_;
	ClocksWorldLocationDialog* _tmp1_;
#line 498 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 499 "../src/world.vala"
	_tmp0_ = gtk_widget_get_toplevel ((GtkWidget*) self);
#line 499 "../src/world.vala"
	_tmp1_ = clocks_world_location_dialog_new (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, gtk_window_get_type (), GtkWindow), self);
#line 499 "../src/world.vala"
	g_object_ref_sink (_tmp1_);
#line 499 "../src/world.vala"
	dialog = _tmp1_;
#line 501 "../src/world.vala"
	g_signal_connect_object ((GtkDialog*) dialog, "response", (GCallback) ___lambda30__gtk_dialog_response, self, 0);
#line 508 "../src/world.vala"
	gtk_widget_show ((GtkWidget*) dialog);
#line 498 "../src/world.vala"
	_g_object_unref0 (dialog);
#line 4206 "world.c"
}

static void
clocks_world_face_real_activate_select_all (ClocksClock* base)
{
	ClocksWorldFace * self;
	ClocksContentView* _tmp0_;
#line 511 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 512 "../src/world.vala"
	_tmp0_ = self->priv->content_view;
#line 512 "../src/world.vala"
	clocks_content_view_select_all (_tmp0_);
#line 4220 "world.c"
}

static void
clocks_world_face_real_activate_select_none (ClocksClock* base)
{
	ClocksWorldFace * self;
	ClocksContentView* _tmp0_;
#line 515 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 516 "../src/world.vala"
	_tmp0_ = self->priv->content_view;
#line 516 "../src/world.vala"
	clocks_content_view_unselect_all (_tmp0_);
#line 4234 "world.c"
}

static gboolean
clocks_world_face_real_escape_pressed (ClocksClock* base)
{
	ClocksWorldFace * self;
	GtkWidget* _tmp0_;
	GtkWidget* _tmp1_;
	GtkWidget* _tmp2_;
	ClocksContentView* _tmp3_;
	gboolean result = FALSE;
#line 519 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 520 "../src/world.vala"
	_tmp0_ = gtk_stack_get_visible_child ((GtkStack*) self);
#line 520 "../src/world.vala"
	_tmp1_ = _tmp0_;
#line 520 "../src/world.vala"
	_tmp2_ = self->priv->standalone;
#line 520 "../src/world.vala"
	if (_tmp1_ == _tmp2_) {
#line 521 "../src/world.vala"
		clocks_world_face_reset_view (self);
#line 522 "../src/world.vala"
		result = TRUE;
#line 522 "../src/world.vala"
		return result;
#line 4262 "world.c"
	}
#line 525 "../src/world.vala"
	_tmp3_ = self->priv->content_view;
#line 525 "../src/world.vala"
	result = clocks_content_view_escape_pressed (_tmp3_);
#line 525 "../src/world.vala"
	return result;
#line 4270 "world.c"
}

static void
clocks_world_face_real_back (ClocksClock* base)
{
	ClocksWorldFace * self;
	GtkWidget* _tmp0_;
	GtkWidget* _tmp1_;
	GtkWidget* _tmp2_;
#line 528 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 529 "../src/world.vala"
	_tmp0_ = gtk_stack_get_visible_child ((GtkStack*) self);
#line 529 "../src/world.vala"
	_tmp1_ = _tmp0_;
#line 529 "../src/world.vala"
	_tmp2_ = self->priv->standalone;
#line 529 "../src/world.vala"
	if (_tmp1_ == _tmp2_) {
#line 530 "../src/world.vala"
		clocks_world_face_reset_view (self);
#line 4292 "world.c"
	}
}

void
clocks_world_face_reset_view (ClocksWorldFace* self)
{
	GtkWidget* _tmp0_ = NULL;
	ClocksContentStore* _tmp1_;
#line 534 "../src/world.vala"
	g_return_if_fail (self != NULL);
#line 535 "../src/world.vala"
	_g_object_unref0 (self->priv->standalone_location);
#line 535 "../src/world.vala"
	self->priv->standalone_location = NULL;
#line 536 "../src/world.vala"
	_tmp1_ = self->priv->locations;
#line 536 "../src/world.vala"
	if (g_list_model_get_n_items ((GListModel*) _tmp1_) == ((guint) 0)) {
#line 4311 "world.c"
		GtkWidget* _tmp2_;
#line 536 "../src/world.vala"
		_tmp2_ = self->priv->empty_view;
#line 536 "../src/world.vala"
		_tmp0_ = _tmp2_;
#line 4317 "world.c"
	} else {
		ClocksContentView* _tmp3_;
#line 536 "../src/world.vala"
		_tmp3_ = self->priv->content_view;
#line 536 "../src/world.vala"
		_tmp0_ = (GtkWidget*) _tmp3_;
#line 4324 "world.c"
	}
#line 536 "../src/world.vala"
	gtk_stack_set_visible_child ((GtkStack*) self, _tmp0_);
#line 537 "../src/world.vala"
	g_signal_emit_by_name ((ClocksClock*) self, "request-header-bar-update");
#line 4330 "world.c"
}

static void
clocks_world_face_real_update_header_bar (ClocksClock* base)
{
	ClocksWorldFace * self;
	ClocksHeaderBar* _tmp0_;
	ClocksHeaderBar* _tmp1_;
	ClocksHeaderBarMode _tmp2_;
	ClocksHeaderBarMode _tmp3_;
#line 540 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 541 "../src/world.vala"
	_tmp0_ = clocks_clock_get_header_bar ((ClocksClock*) self);
#line 541 "../src/world.vala"
	_tmp1_ = _tmp0_;
#line 541 "../src/world.vala"
	_tmp2_ = clocks_header_bar_get_mode (_tmp1_);
#line 541 "../src/world.vala"
	_tmp3_ = _tmp2_;
#line 541 "../src/world.vala"
	switch (_tmp3_) {
#line 541 "../src/world.vala"
		case CLOCKS_HEADER_BAR_MODE_NORMAL:
#line 4355 "world.c"
		{
			ClocksHeaderBar* _tmp4_;
			ClocksHeaderBar* _tmp5_;
			ClocksHeaderBar* _tmp6_;
			ClocksHeaderBar* _tmp7_;
			GtkButton* _tmp8_;
			ClocksContentView* _tmp9_;
#line 543 "../src/world.vala"
			_tmp4_ = clocks_clock_get_header_bar ((ClocksClock*) self);
#line 543 "../src/world.vala"
			_tmp5_ = _tmp4_;
#line 543 "../src/world.vala"
			gtk_header_bar_set_title ((GtkHeaderBar*) _tmp5_, _ ("Clocks"));
#line 544 "../src/world.vala"
			_tmp6_ = clocks_clock_get_header_bar ((ClocksClock*) self);
#line 544 "../src/world.vala"
			_tmp7_ = _tmp6_;
#line 544 "../src/world.vala"
			gtk_header_bar_set_subtitle ((GtkHeaderBar*) _tmp7_, NULL);
#line 545 "../src/world.vala"
			_tmp8_ = self->priv->new_button;
#line 545 "../src/world.vala"
			gtk_widget_show ((GtkWidget*) _tmp8_);
#line 546 "../src/world.vala"
			_tmp9_ = self->priv->content_view;
#line 546 "../src/world.vala"
			clocks_content_view_update_header_bar (_tmp9_);
#line 547 "../src/world.vala"
			break;
#line 4385 "world.c"
		}
#line 541 "../src/world.vala"
		case CLOCKS_HEADER_BAR_MODE_SELECTION:
#line 4389 "world.c"
		{
			ClocksContentView* _tmp10_;
#line 549 "../src/world.vala"
			_tmp10_ = self->priv->content_view;
#line 549 "../src/world.vala"
			clocks_content_view_update_header_bar (_tmp10_);
#line 550 "../src/world.vala"
			break;
#line 4398 "world.c"
		}
#line 541 "../src/world.vala"
		case CLOCKS_HEADER_BAR_MODE_STANDALONE:
#line 4402 "world.c"
		{
			ClocksWorldItem* _tmp11_;
			gchar* _tmp12_;
			gchar* _tmp13_;
			gchar* _tmp14_;
			gboolean _tmp15_;
			ClocksHeaderBar* _tmp34_;
			ClocksHeaderBar* _tmp35_;
			ClocksWorldItem* _tmp36_;
			gchar* _tmp37_;
			gchar* _tmp38_;
			gchar* _tmp39_;
			GtkButton* _tmp40_;
#line 552 "../src/world.vala"
			_tmp11_ = self->priv->standalone_location;
#line 552 "../src/world.vala"
			_tmp12_ = clocks_world_item_get_state_name (_tmp11_);
#line 552 "../src/world.vala"
			_tmp13_ = _tmp12_;
#line 552 "../src/world.vala"
			_tmp14_ = _tmp13_;
#line 552 "../src/world.vala"
			_tmp15_ = _tmp14_ != NULL;
#line 552 "../src/world.vala"
			_g_free0 (_tmp14_);
#line 552 "../src/world.vala"
			if (_tmp15_) {
#line 4430 "world.c"
				ClocksHeaderBar* _tmp16_;
				ClocksHeaderBar* _tmp17_;
				ClocksWorldItem* _tmp18_;
				gchar* _tmp19_;
				gchar* _tmp20_;
				gchar* _tmp21_;
				ClocksWorldItem* _tmp22_;
				gchar* _tmp23_;
				gchar* _tmp24_;
				gchar* _tmp25_;
				gchar* _tmp26_;
				gchar* _tmp27_;
#line 553 "../src/world.vala"
				_tmp16_ = clocks_clock_get_header_bar ((ClocksClock*) self);
#line 553 "../src/world.vala"
				_tmp17_ = _tmp16_;
#line 553 "../src/world.vala"
				_tmp18_ = self->priv->standalone_location;
#line 553 "../src/world.vala"
				_tmp19_ = clocks_world_item_get_city_name (_tmp18_);
#line 553 "../src/world.vala"
				_tmp20_ = _tmp19_;
#line 553 "../src/world.vala"
				_tmp21_ = _tmp20_;
#line 553 "../src/world.vala"
				_tmp22_ = self->priv->standalone_location;
#line 553 "../src/world.vala"
				_tmp23_ = clocks_world_item_get_state_name (_tmp22_);
#line 553 "../src/world.vala"
				_tmp24_ = _tmp23_;
#line 553 "../src/world.vala"
				_tmp25_ = _tmp24_;
#line 553 "../src/world.vala"
				_tmp26_ = g_strdup_printf ("%s, %s", _tmp21_, _tmp25_);
#line 553 "../src/world.vala"
				_tmp27_ = _tmp26_;
#line 553 "../src/world.vala"
				gtk_header_bar_set_title ((GtkHeaderBar*) _tmp17_, _tmp27_);
#line 553 "../src/world.vala"
				_g_free0 (_tmp27_);
#line 553 "../src/world.vala"
				_g_free0 (_tmp25_);
#line 553 "../src/world.vala"
				_g_free0 (_tmp21_);
#line 4475 "world.c"
			} else {
				ClocksHeaderBar* _tmp28_;
				ClocksHeaderBar* _tmp29_;
				ClocksWorldItem* _tmp30_;
				gchar* _tmp31_;
				gchar* _tmp32_;
				gchar* _tmp33_;
#line 555 "../src/world.vala"
				_tmp28_ = clocks_clock_get_header_bar ((ClocksClock*) self);
#line 555 "../src/world.vala"
				_tmp29_ = _tmp28_;
#line 555 "../src/world.vala"
				_tmp30_ = self->priv->standalone_location;
#line 555 "../src/world.vala"
				_tmp31_ = clocks_world_item_get_city_name (_tmp30_);
#line 555 "../src/world.vala"
				_tmp32_ = _tmp31_;
#line 555 "../src/world.vala"
				_tmp33_ = _tmp32_;
#line 555 "../src/world.vala"
				gtk_header_bar_set_title ((GtkHeaderBar*) _tmp29_, _tmp33_);
#line 555 "../src/world.vala"
				_g_free0 (_tmp33_);
#line 4499 "world.c"
			}
#line 557 "../src/world.vala"
			_tmp34_ = clocks_clock_get_header_bar ((ClocksClock*) self);
#line 557 "../src/world.vala"
			_tmp35_ = _tmp34_;
#line 557 "../src/world.vala"
			_tmp36_ = self->priv->standalone_location;
#line 557 "../src/world.vala"
			_tmp37_ = clocks_world_item_get_country_name (_tmp36_);
#line 557 "../src/world.vala"
			_tmp38_ = _tmp37_;
#line 557 "../src/world.vala"
			_tmp39_ = _tmp38_;
#line 557 "../src/world.vala"
			gtk_header_bar_set_subtitle ((GtkHeaderBar*) _tmp35_, _tmp39_);
#line 557 "../src/world.vala"
			_g_free0 (_tmp39_);
#line 558 "../src/world.vala"
			_tmp40_ = self->priv->back_button;
#line 558 "../src/world.vala"
			gtk_widget_show ((GtkWidget*) _tmp40_);
#line 559 "../src/world.vala"
			break;
#line 4523 "world.c"
		}
		default:
		{
#line 561 "../src/world.vala"
			g_assert_not_reached ();
#line 4529 "world.c"
		}
	}
}

static const gchar*
clocks_world_face_real_get_label (ClocksClock* base)
{
	const gchar* result;
	ClocksWorldFace* self;
	const gchar* _tmp0_;
#line 322 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 322 "../src/world.vala"
	_tmp0_ = self->priv->_label;
#line 322 "../src/world.vala"
	result = _tmp0_;
#line 322 "../src/world.vala"
	return result;
#line 4548 "world.c"
}

static void
clocks_world_face_real_set_label (ClocksClock* base,
                                  const gchar* value)
{
	ClocksWorldFace* self;
#line 322 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 322 "../src/world.vala"
	if (g_strcmp0 (value, clocks_world_face_real_get_label (base)) != 0) {
#line 4560 "world.c"
		gchar* _tmp0_;
#line 322 "../src/world.vala"
		_tmp0_ = g_strdup (value);
#line 322 "../src/world.vala"
		_g_free0 (self->priv->_label);
#line 322 "../src/world.vala"
		self->priv->_label = _tmp0_;
#line 322 "../src/world.vala"
		g_object_notify_by_pspec ((GObject *) self, clocks_world_face_properties[CLOCKS_WORLD_FACE_LABEL_PROPERTY]);
#line 4570 "world.c"
	}
}

static const gchar*
clocks_world_face_real_get_icon_name (ClocksClock* base)
{
	const gchar* result;
	ClocksWorldFace* self;
	const gchar* _tmp0_;
#line 323 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 323 "../src/world.vala"
	_tmp0_ = self->priv->_icon_name;
#line 323 "../src/world.vala"
	result = _tmp0_;
#line 323 "../src/world.vala"
	return result;
#line 4588 "world.c"
}

static void
clocks_world_face_real_set_icon_name (ClocksClock* base,
                                      const gchar* value)
{
	ClocksWorldFace* self;
#line 323 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 323 "../src/world.vala"
	if (g_strcmp0 (value, clocks_world_face_real_get_icon_name (base)) != 0) {
#line 4600 "world.c"
		gchar* _tmp0_;
#line 323 "../src/world.vala"
		_tmp0_ = g_strdup (value);
#line 323 "../src/world.vala"
		_g_free0 (self->priv->_icon_name);
#line 323 "../src/world.vala"
		self->priv->_icon_name = _tmp0_;
#line 323 "../src/world.vala"
		g_object_notify_by_pspec ((GObject *) self, clocks_world_face_properties[CLOCKS_WORLD_FACE_ICON_NAME_PROPERTY]);
#line 4610 "world.c"
	}
}

static ClocksHeaderBar*
clocks_world_face_real_get_header_bar (ClocksClock* base)
{
	ClocksHeaderBar* result;
	ClocksWorldFace* self;
	ClocksHeaderBar* _tmp0_;
#line 324 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 324 "../src/world.vala"
	_tmp0_ = self->priv->_header_bar;
#line 324 "../src/world.vala"
	result = _tmp0_;
#line 324 "../src/world.vala"
	return result;
#line 4628 "world.c"
}

static void
clocks_world_face_real_set_header_bar (ClocksClock* base,
                                       ClocksHeaderBar* value)
{
	ClocksWorldFace* self;
#line 324 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 324 "../src/world.vala"
	if (clocks_world_face_real_get_header_bar (base) != value) {
#line 4640 "world.c"
		ClocksHeaderBar* _tmp0_;
#line 324 "../src/world.vala"
		_tmp0_ = _g_object_ref0 (value);
#line 324 "../src/world.vala"
		_g_object_unref0 (self->priv->_header_bar);
#line 324 "../src/world.vala"
		self->priv->_header_bar = _tmp0_;
#line 324 "../src/world.vala"
		g_object_notify_by_pspec ((GObject *) self, clocks_world_face_properties[CLOCKS_WORLD_FACE_HEADER_BAR_PROPERTY]);
#line 4650 "world.c"
	}
}

static ClocksPanelId
clocks_world_face_real_get_panel_id (ClocksClock* base)
{
	ClocksPanelId result;
	ClocksWorldFace* self;
	ClocksPanelId _tmp0_;
#line 325 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 325 "../src/world.vala"
	_tmp0_ = self->priv->_panel_id;
#line 325 "../src/world.vala"
	result = _tmp0_;
#line 325 "../src/world.vala"
	return result;
#line 4668 "world.c"
}

static void
clocks_world_face_real_set_panel_id (ClocksClock* base,
                                     ClocksPanelId value)
{
	ClocksWorldFace* self;
#line 325 "../src/world.vala"
	self = (ClocksWorldFace*) base;
#line 325 "../src/world.vala"
	if (clocks_world_face_real_get_panel_id (base) != value) {
#line 325 "../src/world.vala"
		self->priv->_panel_id = value;
#line 325 "../src/world.vala"
		g_object_notify_by_pspec ((GObject *) self, clocks_world_face_properties[CLOCKS_WORLD_FACE_PANEL_ID_PROPERTY]);
#line 4684 "world.c"
	}
}

static void
clocks_world_face_class_init (ClocksWorldFaceClass * klass,
                              gpointer klass_data)
{
#line 321 "../src/world.vala"
	clocks_world_face_parent_class = g_type_class_peek_parent (klass);
#line 321 "../src/world.vala"
	g_type_class_adjust_private_offset (klass, &ClocksWorldFace_private_offset);
#line 321 "../src/world.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_clocks_world_face_get_property;
#line 321 "../src/world.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_clocks_world_face_set_property;
#line 321 "../src/world.vala"
	G_OBJECT_CLASS (klass)->finalize = clocks_world_face_finalize;
#line 321 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_FACE_LABEL_PROPERTY, clocks_world_face_properties[CLOCKS_WORLD_FACE_LABEL_PROPERTY] = g_param_spec_string ("label", "label", "label", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 321 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_FACE_ICON_NAME_PROPERTY, clocks_world_face_properties[CLOCKS_WORLD_FACE_ICON_NAME_PROPERTY] = g_param_spec_string ("icon-name", "icon-name", "icon-name", NULL, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 321 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_FACE_HEADER_BAR_PROPERTY, clocks_world_face_properties[CLOCKS_WORLD_FACE_HEADER_BAR_PROPERTY] = g_param_spec_object ("header-bar", "header-bar", "header-bar", CLOCKS_TYPE_HEADER_BAR, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 321 "../src/world.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), CLOCKS_WORLD_FACE_PANEL_ID_PROPERTY, clocks_world_face_properties[CLOCKS_WORLD_FACE_PANEL_ID_PROPERTY] = g_param_spec_enum ("panel-id", "panel-id", "panel-id", CLOCKS_TYPE_PANEL_ID, 0, G_PARAM_STATIC_STRINGS | G_PARAM_READABLE | G_PARAM_WRITABLE | G_PARAM_CONSTRUCT));
#line 321 "../src/world.vala"
	gtk_widget_class_set_template_from_resource (GTK_WIDGET_CLASS (klass), "/org/gnome/clocks/ui/world.ui");
#line 321 "../src/world.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "empty_view", FALSE, ClocksWorldFace_private_offset + G_STRUCT_OFFSET (ClocksWorldFacePrivate, empty_view));
#line 321 "../src/world.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "content_view", FALSE, ClocksWorldFace_private_offset + G_STRUCT_OFFSET (ClocksWorldFacePrivate, content_view));
#line 321 "../src/world.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "standalone", FALSE, ClocksWorldFace_private_offset + G_STRUCT_OFFSET (ClocksWorldFacePrivate, standalone));
#line 321 "../src/world.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "standalone_time_label", FALSE, ClocksWorldFace_private_offset + G_STRUCT_OFFSET (ClocksWorldFacePrivate, standalone_time_label));
#line 321 "../src/world.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "standalone_day_label", FALSE, ClocksWorldFace_private_offset + G_STRUCT_OFFSET (ClocksWorldFacePrivate, standalone_day_label));
#line 321 "../src/world.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "standalone_sunrise_label", FALSE, ClocksWorldFace_private_offset + G_STRUCT_OFFSET (ClocksWorldFacePrivate, standalone_sunrise_label));
#line 321 "../src/world.vala"
	gtk_widget_class_bind_template_child_full (GTK_WIDGET_CLASS (klass), "standalone_sunset_label", FALSE, ClocksWorldFace_private_offset + G_STRUCT_OFFSET (ClocksWorldFacePrivate, standalone_sunset_label));
#line 321 "../src/world.vala"
	gtk_widget_class_bind_template_callback_full (GTK_WIDGET_CLASS (klass), "item_activated", G_CALLBACK(_clocks_world_face_item_activated_clocks_content_view_item_activated));
#line 321 "../src/world.vala"
	gtk_widget_class_bind_template_callback_full (GTK_WIDGET_CLASS (klass), "visible_child_changed", G_CALLBACK(_clocks_world_face_visible_child_changed_g_object_notify));
#line 4730 "world.c"
}

static void
clocks_world_face_clocks_clock_interface_init (ClocksClockIface * iface,
                                               gpointer iface_data)
{
#line 321 "../src/world.vala"
	clocks_world_face_clocks_clock_parent_iface = g_type_interface_peek_parent (iface);
#line 321 "../src/world.vala"
	iface->activate_new = (void (*) (ClocksClock*)) clocks_world_face_real_activate_new;
#line 321 "../src/world.vala"
	iface->activate_select_all = (void (*) (ClocksClock*)) clocks_world_face_real_activate_select_all;
#line 321 "../src/world.vala"
	iface->activate_select_none = (void (*) (ClocksClock*)) clocks_world_face_real_activate_select_none;
#line 321 "../src/world.vala"
	iface->escape_pressed = (gboolean (*) (ClocksClock*)) clocks_world_face_real_escape_pressed;
#line 321 "../src/world.vala"
	iface->back = (void (*) (ClocksClock*)) clocks_world_face_real_back;
#line 321 "../src/world.vala"
	iface->update_header_bar = (void (*) (ClocksClock*)) clocks_world_face_real_update_header_bar;
#line 321 "../src/world.vala"
	iface->get_label = clocks_world_face_real_get_label;
#line 321 "../src/world.vala"
	iface->set_label = clocks_world_face_real_set_label;
#line 321 "../src/world.vala"
	iface->get_icon_name = clocks_world_face_real_get_icon_name;
#line 321 "../src/world.vala"
	iface->set_icon_name = clocks_world_face_real_set_icon_name;
#line 321 "../src/world.vala"
	iface->get_header_bar = clocks_world_face_real_get_header_bar;
#line 321 "../src/world.vala"
	iface->set_header_bar = clocks_world_face_real_set_header_bar;
#line 321 "../src/world.vala"
	iface->get_panel_id = clocks_world_face_real_get_panel_id;
#line 321 "../src/world.vala"
	iface->set_panel_id = clocks_world_face_real_set_panel_id;
#line 4767 "world.c"
}

static void
clocks_world_face_instance_init (ClocksWorldFace * self,
                                 gpointer klass)
{
#line 321 "../src/world.vala"
	self->priv = clocks_world_face_get_instance_private (self);
#line 321 "../src/world.vala"
	g_type_ensure (CLOCKS_TYPE_CONTENT_VIEW);
#line 321 "../src/world.vala"
	gtk_widget_init_template (GTK_WIDGET (self));
#line 4780 "world.c"
}

static void
clocks_world_face_finalize (GObject * obj)
{
	ClocksWorldFace * self;
#line 321 "../src/world.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, CLOCKS_WORLD_TYPE_FACE, ClocksWorldFace);
#line 322 "../src/world.vala"
	_g_free0 (self->priv->_label);
#line 323 "../src/world.vala"
	_g_free0 (self->priv->_icon_name);
#line 324 "../src/world.vala"
	_g_object_unref0 (self->priv->_header_bar);
#line 327 "../src/world.vala"
	_g_object_unref0 (self->priv->locations);
#line 328 "../src/world.vala"
	_g_object_unref0 (self->priv->settings);
#line 329 "../src/world.vala"
	_g_object_unref0 (self->priv->new_button);
#line 330 "../src/world.vala"
	_g_object_unref0 (self->priv->back_button);
#line 331 "../src/world.vala"
	_g_object_unref0 (self->priv->standalone_location);
#line 333 "../src/world.vala"
	_g_object_unref0 (self->priv->empty_view);
#line 335 "../src/world.vala"
	_g_object_unref0 (self->priv->content_view);
#line 337 "../src/world.vala"
	_g_object_unref0 (self->priv->standalone);
#line 339 "../src/world.vala"
	_g_object_unref0 (self->priv->standalone_time_label);
#line 341 "../src/world.vala"
	_g_object_unref0 (self->priv->standalone_day_label);
#line 343 "../src/world.vala"
	_g_object_unref0 (self->priv->standalone_sunrise_label);
#line 345 "../src/world.vala"
	_g_object_unref0 (self->priv->standalone_sunset_label);
#line 321 "../src/world.vala"
	G_OBJECT_CLASS (clocks_world_face_parent_class)->finalize (obj);
#line 4821 "world.c"
}

GType
clocks_world_face_get_type (void)
{
	static volatile gsize clocks_world_face_type_id__volatile = 0;
	if (g_once_init_enter (&clocks_world_face_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (ClocksWorldFaceClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) clocks_world_face_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (ClocksWorldFace), 0, (GInstanceInitFunc) clocks_world_face_instance_init, NULL };
		static const GInterfaceInfo clocks_clock_info = { (GInterfaceInitFunc) clocks_world_face_clocks_clock_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		GType clocks_world_face_type_id;
		clocks_world_face_type_id = g_type_register_static (gtk_stack_get_type (), "ClocksWorldFace", &g_define_type_info, 0);
		g_type_add_interface_static (clocks_world_face_type_id, CLOCKS_TYPE_CLOCK, &clocks_clock_info);
		ClocksWorldFace_private_offset = g_type_add_instance_private (clocks_world_face_type_id, sizeof (ClocksWorldFacePrivate));
		g_once_init_leave (&clocks_world_face_type_id__volatile, clocks_world_face_type_id);
	}
	return clocks_world_face_type_id__volatile;
}

static void
_vala_clocks_world_face_get_property (GObject * object,
                                      guint property_id,
                                      GValue * value,
                                      GParamSpec * pspec)
{
	ClocksWorldFace * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, CLOCKS_WORLD_TYPE_FACE, ClocksWorldFace);
#line 321 "../src/world.vala"
	switch (property_id) {
#line 321 "../src/world.vala"
		case CLOCKS_WORLD_FACE_LABEL_PROPERTY:
#line 321 "../src/world.vala"
		g_value_set_string (value, clocks_clock_get_label ((ClocksClock*) self));
#line 321 "../src/world.vala"
		break;
#line 321 "../src/world.vala"
		case CLOCKS_WORLD_FACE_ICON_NAME_PROPERTY:
#line 321 "../src/world.vala"
		g_value_set_string (value, clocks_clock_get_icon_name ((ClocksClock*) self));
#line 321 "../src/world.vala"
		break;
#line 321 "../src/world.vala"
		case CLOCKS_WORLD_FACE_HEADER_BAR_PROPERTY:
#line 321 "../src/world.vala"
		g_value_set_object (value, clocks_clock_get_header_bar ((ClocksClock*) self));
#line 321 "../src/world.vala"
		break;
#line 321 "../src/world.vala"
		case CLOCKS_WORLD_FACE_PANEL_ID_PROPERTY:
#line 321 "../src/world.vala"
		g_value_set_enum (value, clocks_clock_get_panel_id ((ClocksClock*) self));
#line 321 "../src/world.vala"
		break;
#line 4874 "world.c"
		default:
#line 321 "../src/world.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 321 "../src/world.vala"
		break;
#line 4880 "world.c"
	}
}

static void
_vala_clocks_world_face_set_property (GObject * object,
                                      guint property_id,
                                      const GValue * value,
                                      GParamSpec * pspec)
{
	ClocksWorldFace * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, CLOCKS_WORLD_TYPE_FACE, ClocksWorldFace);
#line 321 "../src/world.vala"
	switch (property_id) {
#line 321 "../src/world.vala"
		case CLOCKS_WORLD_FACE_LABEL_PROPERTY:
#line 321 "../src/world.vala"
		clocks_clock_set_label ((ClocksClock*) self, g_value_get_string (value));
#line 321 "../src/world.vala"
		break;
#line 321 "../src/world.vala"
		case CLOCKS_WORLD_FACE_ICON_NAME_PROPERTY:
#line 321 "../src/world.vala"
		clocks_clock_set_icon_name ((ClocksClock*) self, g_value_get_string (value));
#line 321 "../src/world.vala"
		break;
#line 321 "../src/world.vala"
		case CLOCKS_WORLD_FACE_HEADER_BAR_PROPERTY:
#line 321 "../src/world.vala"
		clocks_clock_set_header_bar ((ClocksClock*) self, g_value_get_object (value));
#line 321 "../src/world.vala"
		break;
#line 321 "../src/world.vala"
		case CLOCKS_WORLD_FACE_PANEL_ID_PROPERTY:
#line 321 "../src/world.vala"
		clocks_clock_set_panel_id ((ClocksClock*) self, g_value_get_enum (value));
#line 321 "../src/world.vala"
		break;
#line 4918 "world.c"
		default:
#line 321 "../src/world.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 321 "../src/world.vala"
		break;
#line 4924 "world.c"
	}
}

static void
_vala_array_destroy (gpointer array,
                     gint array_length,
                     GDestroyNotify destroy_func)
{
#line 70 "../src/world.vala"
	if ((array != NULL) && (destroy_func != NULL)) {
#line 4935 "world.c"
		int i;
#line 70 "../src/world.vala"
		for (i = 0; i < array_length; i = i + 1) {
#line 70 "../src/world.vala"
			if (((gpointer*) array)[i] != NULL) {
#line 70 "../src/world.vala"
				destroy_func (((gpointer*) array)[i]);
#line 4943 "world.c"
			}
		}
	}
}

static void
_vala_array_free (gpointer array,
                  gint array_length,
                  GDestroyNotify destroy_func)
{
#line 70 "../src/world.vala"
	_vala_array_destroy (array, array_length, destroy_func);
#line 70 "../src/world.vala"
	g_free (array);
#line 4958 "world.c"
}

